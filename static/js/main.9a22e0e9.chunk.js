(this["webpackJsonpforever-31-frontend"]=this["webpackJsonpforever-31-frontend"]||[]).push([[0],{237:function(e,t,n){e.exports=n(444)},242:function(e,t,n){},269:function(e,t){},444:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(37),s=n.n(o),i=(n(242),n(10)),c=n(19),l=n(22),d=n(20),u=n(18),m=n(23),p=(n(243),n(39)),h=n.n(p),f=function e(t){var n=this;Object(i.a)(this,e),this.fetchCartAndWishlist=function(e){fetch("".concat(n.workingURL,"/carts"),{method:"GET",headers:{Authorization:e}}).then((function(e){return e.json()})).then((function(t){fetch("".concat(n.workingURL,"/wish_lists"),{method:"GET",headers:{Authorization:e}}).then((function(e){return e.json()})).then((function(e){var a={cart:t,wishlist:e};n.component.setState({contentId:1}),n.component.props.addCartAndWishlist(a)}))}))},this.discardProductFromCart=function(e,t){fetch("".concat(n.workingURL,"/carts/").concat(t),{method:"DELETE",headers:{Authorization:e}}).then((function(e){return e.json()})).then((function(e){n.component.props.discardProductFromCart(e),n.component.state.loading?n.component.setState({loading:!1}):console.log(),n.component.state.added?n.component.setState({added:{visible:!0,type:"cart",action:"removed from"}}):console.log()}))},this.discardProductFromWishlist=function(e,t){fetch("".concat(n.workingURL,"/wish_lists/").concat(t),{method:"DELETE",headers:{Authorization:e}}).then((function(e){return e.json()})).then((function(e){n.component.props.discardProductFromWishlist(e),n.component.state.loading?n.component.setState({loading:!1}):console.log(),n.component.state.added?n.component.setState({added:{visible:!0,type:"wishlist",action:"removed from"}}):console.log()}))},this.component=t,this.workingURL="https://immense-garden-92266.herokuapp.com"},g=function e(t){var n=this;Object(i.a)(this,e),this.needToLogin=function(){return n.component.state.added?n.component.setState({added:{visible:!0,needToLogin:!0}}):console.log()},this.addProductToCart=function(e,t){fetch("".concat(n.workingURL,"/carts"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:t,Accept:"application/json"},body:JSON.stringify({product_id:e})}).then((function(e){return e.json()})).then((function(e){n.component.props.addProductToCart(e),n.component.state.added?n.component.setState({added:{visible:!0,type:"cart",action:"added to"}}):console.log()}))},this.changeQuantityOnCart=function(e,t,a){fetch("".concat(n.workingURL,"/carts/").concat(e.id),{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:t,Accept:"application/json"},body:JSON.stringify({asd:a})}).then((function(e){return e.json()})).then((function(e){n.component.props.changeQuantityOnCart(e[0])}))},this.changeSizeForProduct=function(e,t,a){fetch("".concat(n.workingURL,"/carts/").concat(e.id),{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:t,Accept:"application/json"},body:JSON.stringify({update_size:"true",size:a})}).then((function(e){return e.json()})).then((function(e){n.component.props.changeSizeForProduct(e[0])}))},this.component=t,this.workingURL="https://immense-garden-92266.herokuapp.com"},E=n(453),y=n(454),b=n(462),S=n(227),C=n(455),O=n(60),v=n(106),A=n.n(v),_=n(21),w=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(l.a)(this,Object(d.a)(t).call(this))).discardProductFromCart=function(t){return e.cartAndWishlistService.discardProductFromCart(e.props.user.token,t)},e.handleDecreasingQuantity=function(t,n,a){return 1===t.quantity?e.discardProductFromCart(t.product.id):e.cartService.changeQuantityOnCart(t.product,n,a)},e.state={},e.cartAndWishlistService=new f(Object(u.a)(e)),e.cartService=new g(Object(u.a)(e)),e}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return this.props.cart?r.a.createElement("div",{style:{marginTop:20}},this.props.cart.map((function(t){var n=t.product.description.replace("</div></section><section","</div> </section> <section>").split(" "),a=n.indexOf("</section>"),o=n.length-a;a>-1&&n.splice(a,o);var s=n.join(" ");return r.a.createElement(E.a,{key:"productCheckout-".concat(t.product.id),style:{marginBottom:20}},r.a.createElement(y.a,{xs:2,sm:2,md:2,lg:2},r.a.createElement(b.a,null,r.a.createElement(S.a,{src:t.product_images[0].front_url}))),r.a.createElement(y.a,{style:{},xs:7,sm:7,md:7,lg:7},r.a.createElement(E.a,{style:{fontSize:"135%",fontWeight:"bold"}},t.product.display_name),r.a.createElement(C.a,{style:{color:"#d3d3d3"}}),r.a.createElement(E.a,null,A()(s))),r.a.createElement(y.a,{xs:1,sm:1,md:1,lg:1},r.a.createElement(C.a,{style:{color:"#d3d3d3"},vertical:!0},"|")),r.a.createElement(y.a,{style:{},xs:12,sm:2,md:2,lg:2},r.a.createElement(E.a,{style:{fontSize:"135%",fontWeight:"bold"}},t.product.list_price),r.a.createElement(E.a,{style:{marginBottom:7}},r.a.createElement(y.a,{style:{fontSize:"105%",textAlign:"left",paddingLeft:0},xs:8,sm:12,md:12,lg:7},"Quantity: ",t.quantity),r.a.createElement(y.a,{xs:2,sm:6,md:6,lg:2},r.a.createElement(O.a,{onClick:function(){return e.handleDecreasingQuantity(t,e.props.user.token,"minus")},style:{},name:"minus"})),r.a.createElement(y.a,{xs:2,sm:6,md:6,lg:2},r.a.createElement(O.a,{onClick:function(){return e.cartService.changeQuantityOnCart(t.product,e.props.user.token,"not minus")},style:{},name:"plus"}))),r.a.createElement(E.a,null,r.a.createElement(y.a,{style:{textAlign:"left",paddingLeft:0},sm:!0},"Shipping Fee: ",t.product.shipping_fee)),r.a.createElement(E.a,null,r.a.createElement(y.a,{style:{textAlign:"left",paddingLeft:0},sm:!0},"Student Deal: ",t.product.student_deal?"Yes":"No"))))}))):r.a.createElement(r.a.Fragment,null)}}]),t}(r.a.Component),k=Object(_.b)((function(e,t){return{cart:e.cartAndWishlist.cart,user:e.user}}),(function(e,t){return{discardProductFromCart:function(t){e({type:"DISCARD_PRODUCT_FROM_CARD",newCart:t})},changeQuantityOnCart:function(t){e({type:"CHANGE_QUANTITY_ON_CART",newProduct:t})}}}))(w),T=function e(t){var n=this;Object(i.a)(this,e),this.login=function(e){fetch("".concat(n.workingURL,"/login"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({user:e})}).then((function(e){return e.json()})).then((function(e){var t=e.token,a=e.user_id,r=e.address,o=e.error;void 0===o?(localStorage.token=t,localStorage.userId=a,r&&(localStorage.addressLineOne=r.line_1,localStorage.addressLineTwo=r.line_2),n.component.props.addUserAuth({token:t,userId:a,address:r}),n.component.cartAndWishlistService.fetchCartAndWishlist(t),n.component.setState({errors:[],loading:!1}),n.component.props.closeSideBar(!1)):n.component.setState({errors:[o],loading:!1})}))},this.signUp=function(e){fetch("".concat(n.workingURL,"/signup"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({user:e})}).then((function(e){return e.json()})).then((function(e){var t=e.token,a=e.user_id,r=e.errors;void 0===r?(localStorage.token=t,localStorage.userId=a,n.component.props.addUserAuth({token:t,userId:a}),n.component.cartAndWishlistService.fetchCartAndWishlist(t),n.component.setState({error:"",loading:!1}),n.component.props.closeSideBar(!1)):n.component.setState({errors:Object.values(r).flat().map((function(e){return e.includes("already")?"username "+e.toLowerCase():e.toLowerCase()})),loading:!1})}))},this.getAllUserNames=function(){fetch("".concat(n.workingURL,"/users")).then((function(e){return e.json()})).then((function(e){n.component.setState({usernames:e})}))},this.createAddress=function(e,t){fetch("".concat(n.workingURL,"/addresses"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:n.component.props.user.token},body:JSON.stringify({address:{line_1:e,line_2:t,user_id:n.component.props.user.userId}})}).then((function(e){return e.json()})).then((function(e){localStorage.addressLineOne=e.line_1,localStorage.addressLineTwo=e.line_2,n.component.props.addAddress({line_1:e.line_1,line_2:e.line_2}),n.component.setState({changeShippingAddress:!1})}))},this.saveNewAddress=function(e,t){fetch("".concat(n.workingURL,"/addresses/").concat(n.component.props.user.userId),{method:"PATCH",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:n.component.props.user.token},body:JSON.stringify({address:{line_1:e,line_2:t,user_id:n.component.props.user.userId}})}).then((function(e){return e.json()})).then((function(e){localStorage.addressLineOne=e.line_1,localStorage.addressLineTwo=e.line_2,n.component.props.addAddress({line_1:e.line_1,line_2:e.line_2}),n.component.setState({changeShippingAddress:!1})}))},this.component=t,this.workingURL="https://immense-garden-92266.herokuapp.com",this.workingURL="http://localhost:3000"},j=n(456),x=n(445),I=n(56),P=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(l.a)(this,Object(d.a)(t).call(this))).handleInputChangeLineOne=function(t){return e.setState({lineOne:t.currentTarget.value},(function(){""!==e.state.lineOne?e.setState({emptyForm:!1}):e.setState({emptyForm:!0})}))},e.handleInputChangeLineTwo=function(t){return e.setState({lineTwo:t.currentTarget.value})},e.openOrCloseShippingAdressForm=function(){return e.setState({changeShippingAddress:!e.state.changeShippingAddress},(function(){return""!==e.props.user.address.line_1?e.setState({lineOne:e.props.user.address.line_1},(function(){e.setState({lineTwo:e.props.user.address.line_2})})):console.log()}))},e.saveNewAddress=function(){""!==e.state.lineOne?""!==e.props.user.address.line_1?e.userService.saveNewAddress(e.state.lineOne,e.state.lineTwo):e.userService.createAddress(e.state.lineOne,e.state.lineTwo):e.setState({emptyForm:!0})},e.state={changeShippingAddress:!1,lineOne:"",lineTwo:"",emptyForm:!0},e.userService=new T(Object(u.a)(e)),e}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){""!==this.props.user.address.line_1?this.setState({changeShippingAddress:!1,lineOne:this.props.user.address.line_1,lineTwo:this.props.user.address.line_2,emptyForm:!1}):this.setState({changeShippingAddress:!0,emptyForm:!0})}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(E.a,null,r.a.createElement(y.a,{style:{color:"#6b7c93",textAlign:"left"},xs:3,sm:2,md:2,lg:2},"Shipping Adress:"),r.a.createElement(y.a,{xs:8,sm:9,md:9,lg:9},r.a.createElement(E.a,null,r.a.createElement(y.a,{xs:10,sm:10,md:10,lg:10},r.a.createElement("div",{style:{letterSpacing:"0.025em"}},this.state.changeShippingAddress?r.a.createElement(j.a,{value:this.state.lineOne,error:this.state.emptyForm,onChange:this.handleInputChangeLineOne,size:"mini",style:{width:"100%"},placeholder:"Adress Line 1..."}):this.props.user.address.line_1))),r.a.createElement(E.a,null,r.a.createElement(y.a,{xs:10,sm:10,md:10,lg:10},r.a.createElement("div",{style:{letterSpacing:"0.025em"}},this.state.changeShippingAddress?r.a.createElement(j.a,{value:this.state.lineTwo,onChange:this.handleInputChangeLineTwo,size:"mini",style:{width:"100%",marginTop:10},placeholder:"Adress Line 2..."}):this.props.user.address.line_2)))),r.a.createElement(y.a,{style:{textAlign:"right"},xs:1,sm:1,md:1,lg:1},this.state.changeShippingAddress?r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{onClick:this.openOrCloseShippingAdressForm},"Cancel"),r.a.createElement("span",{onClick:this.saveNewAddress,style:{marginLeft:4}},"Save")):r.a.createElement("span",{onClick:this.openOrCloseShippingAdressForm},"Change"))),r.a.createElement(C.a,null),r.a.createElement(E.a,{style:{textAlign:"left",marginTop:10,marginBottom:20}},r.a.createElement(y.a,{xs:12,md:8,sm:8},r.a.createElement(E.a,{style:{marginBottom:20}},r.a.createElement(y.a,{xs:6,sm:6,style:{marginBottom:10}},r.a.createElement("label",{style:{color:"#6b7c93",letterSpacing:"0.025em"}},"Name on Card",r.a.createElement("br",null),r.a.createElement(j.a,{error:!this.props.isNameFormCompleted,onChange:this.props.handleName,placeholder:"Jack Willerson",size:"mini"}))),r.a.createElement(y.a,{xs:6,sm:6},r.a.createElement("label",{style:{color:"#6b7c93",letterSpacing:"0.025em"}},"Email",r.a.createElement("br",null),r.a.createElement(j.a,{error:!this.props.isEmailFormCompleted,onChange:this.props.handleEmail,placeholder:"example@example.com",size:"mini"}))),r.a.createElement(y.a,{style:{marginTop:15},xs:12,md:8,sm:10,lg:9},r.a.createElement(I.CardElement,Object.assign({},{style:{base:{fontSize:"16px",color:"#424770",fontFamily:"Open Sans, sans-serif",letterSpacing:"0.025em","::placeholder":{color:"#aab7c4"}},invalid:{color:"#c23d4b"}}},{onChange:function(t){return e.props.handleChange(t)}}))),r.a.createElement(y.a,{style:{marginTop:8},xs:12,md:4,lg:3,sm:2},r.a.createElement(x.a,{style:{textAlign:"center"},fluid:!0,onClick:this.props.submit},"Pay $",this.props.total)))),r.a.createElement(y.a,{xs:6,md:4,sm:4},r.a.createElement(S.a,{style:{float:"right"},src:"/images/stripe-secure-badge.png"})),r.a.createElement(y.a,{sm:2,md:2,xs:3,style:{fontWeight:"bold",fontSize:15}},"Total: $",this.props.total),r.a.createElement(y.a,{sm:2,md:2,xs:3,style:{fontWeight:"bold",fontSize:15}},"Item Count: ",this.props.itemCount)))}}]),t}(r.a.Component),W=Object(_.b)((function(e,t){return{user:e.user}}),(function(e,t){return{addAddress:function(t){e({type:"ADD_ADDRESS",address:t})}}}))(P),R=n(457),L=n(463),D=n(458),N=n(469),U=n(48),F=n(38),M=n(73),z=n.n(M),H=function(e,t){return e+parseInt(t.quantity)*parseInt(t.product.list_price.replace("$",""))},B=function(e,t){return e+t.quantity},Q=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(l.a)(this,Object(d.a)(t).call(this,e))).handleChange=function(e){e.complete?n.setState({isFormCompleted:!0}):n.setState({isFormCompleted:!1})},n.handleNameInputChange=function(e){return n.setState({name:e.currentTarget.value},""!==n.state.name?n.setState({isNameFormCompleted:!0}):n.setState({isNameFormCompleted:!1}))},n.handleEmailInputChange=function(e){return n.setState({email:e.currentTarget.value},""!==n.state.email?n.setState({isEmailFormCompleted:!0}):n.setState({isEmailFormCompleted:!1}))},n.submit=n.submit.bind(Object(u.a)(n)),n.state={paymentLoading:!1,isFormCompleted:!1,isNameFormCompleted:!1,isEmailFormCompleted:!1,orderAmount:0,name:"",email:"",redirect:!1},n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"submit",value:function(){var e=this;return h.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:this.state.isFormCompleted&&this.state.isNameFormCompleted&&this.state.isEmailFormCompleted?(this.setState({orderAmount:this.props.cart.reduce(H,0)}),z()({title:"Are you sure?",text:"You have totally ".concat(this.props.cart.reduce(B,0)," item in your cart. And the total is $").concat(this.props.cart.reduce(H,0),"."),icon:"warning",buttons:!0,dangerMode:!0}).then((function(t){var n,a;return h.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(!t){r.next=12;break}return e.setState({paymentLoading:!0}),r.next=4,h.a.awrap(e.props.stripe.createToken({name:e.state.name,address_line1:e.props.user.address.line_1,address_line2:e.props.user.address.line_2}));case 4:return n=r.sent,a=n.token,r.next=8,h.a.awrap(fetch("http://localhost:3000/charge",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:e.props.user.token},body:JSON.stringify({token:a.id,name:e.state.name,email:e.state.email,amount:100*e.props.cart.reduce(H,1),items:e.props.cart.map((function(e){return e.product.id})).join(" - ")})}));case 8:r.sent.ok?(e.props.cleanCart(),e.setState({paymentLoading:!1}),z()("Purchase Completed!","You made a payment total of: $".concat(e.state.orderAmount),"success").then((function(t){e.setState({redirect:!0})}))):(e.setState({paymentLoading:!1}),z()("OOPS! Something Went Wrong :/","Something Causes Problem, Please Try Again Later.","error")),r.next=14;break;case 12:e.setState({paymentLoading:!1}),z()("You Cancelled Your Payment.");case 14:case"end":return r.stop()}}))}))):z()("Form is Not Completed :/","Make Sure That Name and Email Forms are Filled.","error");case 1:case"end":return t.stop()}}),null,this)}},{key:"render",value:function(){return""===localStorage.token||void 0===localStorage.token?r.a.createElement(U.a,{to:"/"}):this.props.cart?r.a.createElement(R.a,{style:{minHeight:"98vh",marginTop:50,marginBottom:50},key:"checkoutContainer"},this.state.paymentLoading?r.a.createElement(L.a,{active:!0},r.a.createElement(D.a,{size:"big"})):console.log(),this.state.redirect?r.a.createElement(U.a,{to:"/"}):console.log(),r.a.createElement(N.a,{as:"h1",dividing:!0},"Checkout"),r.a.createElement(E.a,null,r.a.createElement(y.a,{style:{textAlign:"left",fontWeight:"bold",fontSize:"130%"},xs:6,sm:6,md:6,lg:6},"Total: $",this.props.cart.reduce(H,0)),r.a.createElement(y.a,{style:{textAlign:"right",fontWeight:"bold",fontSize:"130%"},xs:6,sm:6,md:6,lg:6},"Item Count: ",this.props.cart.reduce(B,0))),r.a.createElement(k,null),0===this.props.cart.length?r.a.createElement(r.a.Fragment,null,r.a.createElement("br",null),r.a.createElement(N.a,{as:"h1"},"You don't have any item in your cart... ",r.a.createElement(F.b,{to:"/",style:{color:"#000000"}},r.a.createElement("u",null,"Would you like to browse around limitless design?"))),r.a.createElement("br",null)):console.log(),r.a.createElement(C.a,null),r.a.createElement(W,{isNameFormCompleted:this.state.isNameFormCompleted,isEmailFormCompleted:this.state.isEmailFormCompleted,handleChange:this.handleChange,handleName:this.handleNameInputChange,handleEmail:this.handleEmailInputChange,total:this.props.cart.reduce(H,0),itemCount:this.props.cart.reduce(B,0),submit:this.submit})):r.a.createElement(r.a.Fragment,null)}}]),t}(r.a.Component),q=Object(_.b)((function(e,t){return{cart:e.cartAndWishlist.cart,user:e.user}}),(function(e,t){return{cleanCart:function(t){e({type:"CLEAN_CART"})}}}))(Object(I.injectStripe)(Q)),Y=n(28),J=function e(t){var n=this;Object(i.a)(this,e),this.needToLogin=function(){return n.component.state.added?n.component.setState({added:{visible:!0,needToLogin:!0}}):console.log()},this.addProductToWishlist=function(e,t){fetch("".concat(n.workingURL,"/wish_lists"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:t,Accept:"application/json"},body:JSON.stringify({product_id:e})}).then((function(e){return e.json()})).then((function(e){n.component.props.addProductToWishlist(e),n.component.state.added?n.component.setState({added:{visible:!0,type:"wishlist",action:"added to"}}):console.log()}))},this.component=t,this.workingURL="https://immense-garden-92266.herokuapp.com"},V=n(57),$=n(110),G=n.n($),X=n(464),Z=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(l.a)(this,Object(d.a)(t).call(this))).decreaseTimer=function(){0!==e.state.timer?e.setState({timer:e.state.timer-1}):e.props.closeAlert()},e.state={timer:2},e}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.interval=setInterval(this.decreaseTimer,1e3)}},{key:"componentWillUnmount",value:function(){this.props.added.needToLogin?this.props.changeNeedToLogin():console.log(),clearInterval(this.interval)}},{key:"render",value:function(){return this.props.added.needToLogin?r.a.createElement(X.a.Header,{style:{textAlign:"center",backgroundColor:"#000000",color:"#fff"}},"you need to sign in or sign up :)"):r.a.createElement(X.a.Header,{style:{textAlign:"center",backgroundColor:"#000000",color:"#fff"}},this.props.added.action," your ",this.props.added.type,"!")}}]),t}(r.a.Component),K=n(87),ee=V.b.div({hoverable:!0,pressable:!0,init:{scale:1,boxShadow:"0px 0px 0px rgba(0,0,0,0)"},hover:{opacity:1,scale:1.02,boxShadow:"0px 5px 10px rgba(0,0,0,0.2)"},press:{scale:1,boxShadow:"0px 2px 5px rgba(0,0,0,0.1)"}}),te=[],ne=[],ae=V.b.div({init:{scale:1,opacity:0},hover:{opacity:.89,scale:1}}),re=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(l.a)(this,Object(d.a)(t).call(this))).handleWishlistClick=function(t){e.props.wishlist?e.props.wishlist.map((function(e){return e.product.id})).includes(t.id)?e.cartAndWishlistService.discardProductFromWishlist(e.props.user.token,t.id):e.wishlistService.addProductToWishlist(t.id,e.props.user.token):e.wishlistService.needToLogin()},e.handleCartClick=function(t){e.props.cart?e.props.cart.map((function(e){return e.product.id})).includes(t.id)?e.cartAndWishlistService.discardProductFromCart(e.props.user.token,t.id):e.cartService.addProductToCart(t.id,e.props.user.token):e.cartService.needToLogin()},e.changeNeedToLogin=function(){return e.setState({added:Object(Y.a)({},e.state.added,{needToLogin:!1})})},e.closeAlert=function(){return e.setState({added:Object(Y.a)({},e.state.added,{visible:!1})})},e.state={isVisible:!1,added:{visible:!1,type:"cart",action:"added",needToLogin:!1},timer:2},e.cartAndWishlistService=new f(Object(u.a)(e)),e.wishlistService=new J(Object(u.a)(e)),e.cartService=new g(Object(u.a)(e)),e}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.setState({isVisible:!this.state.isVisible})}},{key:"render",value:function(){var e=this;te=this.props.cart!==[]&&this.props.cart?this.props.cart.map((function(e){return e.product.id})):[],ne=this.props.wishlist!==[]&&this.props.wishlist?this.props.wishlist.map((function(e){return e.product.id})):[];var t=this.state.isVisible;return r.a.createElement(V.a,null,t&&r.a.createElement(ee,{key:"box",className:"box",style:{position:"relative"}},r.a.createElement(b.a,null,r.a.createElement(F.b,{to:"/products/".concat(this.props.product.id)},r.a.createElement(G.a,{src:this.props.imgUrl,style:{borderBottomLeftRadius:10,borderBottomRightRadius:4},fallbackImage:"/images/404-image-not-found-f31.jpg",initialImage:"loader.gif",alt:"cool image should be here",className:"ui image"})),r.a.createElement(ae,{style:{position:"absolute",top:"50%",width:"100%"}},this.state.added.visible?r.a.createElement(Z,{added:this.state.added,changeNeedToLogin:this.changeNeedToLogin,closeAlert:this.closeAlert}):null),r.a.createElement(ae,null,r.a.createElement(K.a,{corner:"left",color:"black",onClick:function(){return e.handleWishlistClick(e.props.product)}},r.a.createElement(O.a,{name:"heart",color:ne.includes(this.props.product.id)?"red":null}))),r.a.createElement(ae,null,r.a.createElement(K.a,{corner:"right",color:"black",onClick:function(){return e.handleCartClick(e.props.product)}},r.a.createElement(O.a,{name:"shopping cart",color:te.includes(this.props.product.id)?"yellow":null}))),r.a.createElement(ae,{style:{position:"absolute",bottom:0,width:"100%"}},r.a.createElement(b.a.Header,{style:{borderBottomLeftRadius:4,borderBottomRightRadius:4,backgroundColor:"#000000"}},r.a.createElement(E.a,null,r.a.createElement(y.a,{style:{color:"#fff",fontWeight:"bold",textAlign:"center"}},this.props.product.list_price)))))))}}]),t}(r.a.Component),oe=Object(_.b)((function(e,t){return{user:e.user,cart:e.cartAndWishlist.cart,wishlist:e.cartAndWishlist.wishlist}}),(function(e,t){return{addProductToWishlist:function(t){e({type:"ADD_PRODUCT_TO_WISHLIST",newProduct:t})},addProductToCart:function(t){e({type:"ADD_PRODUCT_TO_CART",newProduct:t})},changeQuantityOnCart:function(t){e({type:"CHANGE_QUANTITY_ON_CART",newProduct:t})},discardProductFromCart:function(t){e({type:"DISCARD_PRODUCT_FROM_CARD",newCart:t})},discardProductFromWishlist:function(t){e({type:"DISCARD_PRODUCT_FROM_WISHLIST",newWishlist:t})}}}))(re),se=n(111),ie=(n(195),function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(l.a)(this,Object(d.a)(t).call(this))).addMoreProducts=function(){localStorage.limit=e.state.limit+31,fetch("http://localhost:3000/products?start=".concat(e.state.limit,"&limit=").concat(e.state.limit+32)).then((function(e){return e.json()})).then((function(t){return e.props.addMoreProducts(t)})),e.setState({limit:e.state.limit+32})},e.state={limit:32},e}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(R.a,{style:{marginTop:50,marginBottom:50}},r.a.createElement(E.a,null,this.props.products.flat().map((function(e){return r.a.createElement(y.a,{xs:6,md:4,lg:3,className:"mx-auto",key:"product-".concat(e.id),style:{marginBottom:23}},r.a.createElement(oe,{key:e.id,displayName:e.display_name,product:e,imgUrl:e.images[0].front_url}))}))),r.a.createElement(N.a,{as:"h2",onClick:this.addMoreProducts,style:{textAlign:"center",marginBottom:100}},"See More..."))}}]),t}(r.a.Component)),ce=Object(_.b)((function(e,t){return{products:e.products}}),(function(e,t){return{addMoreProducts:function(t){e({type:"ADD_PRODUCTS",products:t})}}}))(ie),le=n(59),de=n(467),ue=(n(409),function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(l.a)(this,Object(d.a)(t).call(this,e))).handleCartClick=function(){if(void 0===n.props.user.token)n.props.openModal(!0);else{var e=[];n.props.cart?e=n.props.cart.map((function(e){return e.product.id})):console.log(),e.includes(n.props.product.id)?n.cartAndWishlistService.discardProductFromCart(n.props.user.token,n.props.product.id):n.cartService.addProductToCart(n.props.product.id,n.props.user.token)}},n.handleWishlistClick=function(){if(void 0===n.props.user.token)n.props.openModal(!0);else{var e=[];n.props.wishlist?e=n.props.wishlist.map((function(e){return e.product.id})):console.log(),e.includes(n.props.product.id)?n.cartAndWishlistService.discardProductFromWishlist(n.props.user.token,n.props.product.id):n.wishlistService.addProductToWishlist(n.props.product.id,n.props.user.token)}},n.state={product:n.props.product?n.props.product:{},carouselItems:[],youMightAlsoLikeProducts:e.youMightAlsoLikeProducts},n.cartService=new g(Object(u.a)(n)),n.wishlistService=new J(Object(u.a)(n)),n.cartAndWishlistService=new f(Object(u.a)(n)),n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=[],n=[];this.props.wishlist?n=this.props.wishlist.map((function(e){return e.product.id})):console.log(),this.props.cart?t=this.props.cart.map((function(e){return e.product.id})):console.log();var a=this.props.product;return r.a.createElement(R.a,{style:{marginTop:40,marginBottom:100}},r.a.createElement(E.a,null,r.a.createElement(y.a,{xs:12,sm:12,md:4,lg:4},r.a.createElement(de.a,null,void 0===this.props.carouselItems?[]:this.props.carouselItems),r.a.createElement("h4",{style:{fontWeight:"bold",textAlign:"center",marginTop:10}},a.display_name,r.a.createElement(O.a,{name:"heart",onClick:function(){return e.handleWishlistClick()},style:{marginLeft:4},color:n.includes(a.id)?"red":"grey"})),r.a.createElement(C.a,null),r.a.createElement(E.a,{style:{justifyContent:"space-between"}},r.a.createElement(y.a,{style:{marginTop:7},xs:2,sm:2,md:2,lg:2},r.a.createElement("h6",{style:{fontWeight:"bold"}},a.list_price)),r.a.createElement(y.a,{style:{textAlign:"center"},xs:10,sm:10,md:10,lg:10},r.a.createElement(x.a,{fluid:!0,size:"tiny",onClick:function(){return e.handleCartClick()}},r.a.createElement(O.a,{style:{fontSize:"1.1em"},name:"shopping cart"}),t.includes(a.id)?"Already On Cart":"Add To Cart")))),r.a.createElement(y.a,{style:{marginTop:5},xs:12,sm:12,md:6,lg:6},r.a.createElement(E.a,null,r.a.createElement(y.a,{xs:12,sm:12,md:12,lg:12},A()(a.description)),r.a.createElement(y.a,{xs:12,sm:12,md:12,lg:12,style:{marginBottom:10}},r.a.createElement("table",{className:"sizechart ws_100 txc b_gray"},r.a.createElement("tbody",null,r.a.createElement("tr",{style:{backgroundColor:"#000000",color:"#fff"}},r.a.createElement("td",{colSpan:"2",style:{border:"1px solid white"}},"Size"),r.a.createElement("td",{style:{border:"1px solid white"}},"Bust"),r.a.createElement("td",{style:{border:"1px solid white"}},"Waist"),r.a.createElement("td",{style:{border:"1px solid white"}},"Hips")),r.a.createElement("tr",null,r.a.createElement("td",{style:{border:"1px solid #ddd"}},"XS"),r.a.createElement("td",{style:{border:"1px solid #ddd"}},"1"),r.a.createElement("td",{style:{border:"1px solid #ddd"}},"32"),r.a.createElement("td",{style:{border:"1px solid #ddd"}},"24-25"),r.a.createElement("td",{style:{border:"1px solid #ddd"}},"33-34")),r.a.createElement("tr",{style:{backgroundColor:"#f3f3f3"}},r.a.createElement("td",{style:{border:"1px solid #ddd"}},"S"),r.a.createElement("td",{style:{border:"1px solid #ddd"}},"3/5"),r.a.createElement("td",{style:{border:"1px solid #ddd"}},"34-35"),r.a.createElement("td",{style:{border:"1px solid #ddd"}},"26-27"),r.a.createElement("td",{style:{border:"1px solid #ddd"}},"35-36")),r.a.createElement("tr",null,r.a.createElement("td",{style:{border:"1px solid #ddd"}},"M"),r.a.createElement("td",{style:{border:"1px solid #ddd"}},"7/9"),r.a.createElement("td",{style:{border:"1px solid #ddd"}},"36-37"),r.a.createElement("td",{style:{border:"1px solid #ddd"}},"28-29"),r.a.createElement("td",{style:{border:"1px solid #ddd"}},"38-40")),r.a.createElement("tr",{style:{backgroundColor:"#f3f3f3"}},r.a.createElement("td",{style:{border:"1px solid #ddd"}},"L"),r.a.createElement("td",{style:{border:"1px solid #ddd"}},"11"),r.a.createElement("td",{style:{border:"1px solid #ddd"}},"38-39"),r.a.createElement("td",{style:{border:"1px solid #ddd"}},"30-31"),r.a.createElement("td",{style:{border:"1px solid #ddd"}},"42-44")),r.a.createElement("tr",null,r.a.createElement("td",{style:{border:"1px solid #ddd"}},"XL"),r.a.createElement("td",{style:{border:"1px solid #ddd"}},"13"),r.a.createElement("td",{style:{border:"1px solid #ddd"}},"40-41"),r.a.createElement("td",{style:{border:"1px solid #ddd"}},"32-33"),r.a.createElement("td",{style:{border:"1px solid #ddd"}},"45-47")))),r.a.createElement("div",{className:"d_content",style:{marginTop:3}},r.a.createElement("p",null,"- Please Indicate Your Size From Cart. Default is Medium(M)."))))),r.a.createElement(y.a,{xs:12,sm:3,md:2,lg:2},r.a.createElement(E.a,null,r.a.createElement(y.a,{style:{textAlign:"left",paddingLeft:0},xs:6,sm:12,md:4,lg:12},"Shipping Fee: ",a.shipping_fee),r.a.createElement(y.a,{style:{textAlign:"left",paddingLeft:0},xs:6,sm:6,md:12,lg:12},"Student Deal: ",a.student_deal?"Yes":"No")))),r.a.createElement(C.a,{horizontal:!0},"You Might Also Like"),r.a.createElement(E.a,null,this.state.youMightAlsoLikeProducts.map((function(e){return r.a.createElement(y.a,{xs:6,sm:6,md:2,lg:2,className:"mx-auto",key:"product-".concat(e.id),style:{marginBottom:23}},r.a.createElement(oe,{key:e.id,displayName:e.display_name,product:e,imgUrl:e.images[0].front_url}))}))))}}]),t}(r.a.Component));function me(e){var t=[];for(var n in e.images[0])n.normalize().includes("url")&&!n.normalize().includes("small")&&(t=[].concat(Object(le.a)(t),[r.a.createElement(de.a.Item,{active:!!n.normalize().includes("front"),key:"carouselItem-".concat(e.images[0][n])},r.a.createElement(G.a,{src:e.images[0][n],fallbackImage:"/images/404-image-not-found-f31.jpg",initialImage:"loader.gif",alt:"cool image should be here",className:"ui image"}))]));return t}function pe(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=[],r=[];r=n==={}?[e.find((function(e){return e.id==t})).id]:[n.id];for(var o=0;o<6;o++){var s=Math.floor(Math.random()*Math.floor(e.length));r.includes(e[s].id)?o-=1:(r.push(e[s].id),a.push(e[s]))}return a}var he=Object(_.b)((function(e,t){var n=t.match.params.id,a=e.products.find((function(e){return e.id==n}));return{user:e.user,cart:e.cartAndWishlist.cart,wishlist:e.cartAndWishlist.wishlist,product:a,products:e.products,carouselItems:me(a),youMightAlsoLikeProducts:pe(e.products,n,a)}}),(function(e,t){return{addProductToWishlist:function(t){e({type:"ADD_PRODUCT_TO_WISHLIST",newProduct:t})},addProductToCart:function(t){e({type:"ADD_PRODUCT_TO_CART",newProduct:t})},discardProductFromCart:function(t){e({type:"DISCARD_PRODUCT_FROM_CARD",newCart:t})},discardProductFromWishlist:function(t){e({type:"DISCARD_PRODUCT_FROM_WISHLIST",newWishlist:t})}}}))(ue),fe=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(l.a)(this,Object(d.a)(t).call(this))).renderPasswordConfirmation=function(){if(e.state.signUp)return r.a.createElement(E.a,{className:"justify-content-center",style:{marginTop:5}},r.a.createElement(j.a,{style:{width:"65%"},error:!e.state.passwordMatch,iconPosition:"left",type:"password",placeholder:"Password Confirmation"},r.a.createElement(O.a,{name:"key",loading:!0}),r.a.createElement("input",{onChange:function(t){return e.handleChangeOnConfirmation(t)}})))},e.handleChangeOnUsername=function(t){e.setState({username:t.target.value},(function(){return e.state.usernames.includes(e.state.username)?e.setState({uniqueUsername:!1}):e.setState({uniqueUsername:!0})}))},e.handleChangeOnConfirmation=function(t){e.setState({passwordConfirmation:t.target.value},(function(){return e.state.password!==e.state.passwordConfirmation?e.setState({passwordMatch:!1}):e.setState({passwordMatch:!0})}))},e.handleSubmit=function(){var t=e.state;if(t.signUp){var n={username:t.username,password:t.password,password_confirmation:t.passwordConfirmation};e.setState({loading:!0}),e.userService.signUp(n)}else{var a={username:t.username,password:t.password};e.setState({loading:!0}),e.userService.login(a)}},e.state={signUp:!1,username:"",password:"",passwordConfirmation:"",errors:[],loading:!1,passwordMatch:!1,usernames:[],uniqueUsername:!0},e.userService=new T(Object(u.a)(e)),e.cartAndWishlistService=new f(Object(u.a)(e)),e}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.userService.getAllUserNames()}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(N.a,{as:"h2",style:{color:"#fff",marginTop:5}},this.state.signUp?"Sign Up":"Sign In"," or ",r.a.createElement("span",{onClick:function(){return e.setState({signUp:!e.state.signUp})}},r.a.createElement("u",null,this.state.signUp?"Sign In":"Sign Up")),this.state.loading?r.a.createElement(D.a,{active:!0,inline:!0,style:{marginLeft:10}}):null),r.a.createElement(E.a,{className:"justify-content-center"},0!==this.state.errors.length?r.a.createElement(X.a,{color:"red",list:this.state.errors,header:"oops, something went wrong!"}):null,r.a.createElement(j.a,{style:{width:"65%"},error:!this.state.uniqueUsername,iconPosition:"left",placeholder:"Email"},r.a.createElement(O.a,{name:"at"}),r.a.createElement("input",{onChange:function(t){return e.handleChangeOnUsername(t)}}))),r.a.createElement(E.a,{className:"justify-content-center",style:{marginTop:5}},r.a.createElement(j.a,{style:{width:"65%"},iconPosition:"left",type:"password",placeholder:"Password"},r.a.createElement(O.a,{name:"key"}),r.a.createElement("input",{onChange:function(t){return e.setState({password:t.target.value})}}))),this.renderPasswordConfirmation(),r.a.createElement(E.a,{style:{marginTop:5}},r.a.createElement(y.a,{sm:7}),r.a.createElement(y.a,{sm:4},r.a.createElement(x.a,{onClick:function(){return e.handleSubmit()},basic:!0,inverted:!0},this.state.signUp?"Sign Up!":"Sign In!")),r.a.createElement(y.a,{sm:1})))}}]),t}(r.a.Component),ge=Object(_.b)(void 0,(function(e,t){return{addUserAuth:function(t){e({type:"ADD_USER_AUTH",user:t})},addCartAndWishlist:function(t){e({type:"ADD_CART_AND_WISHLIST",cartAndWishlist:t})}}}))(fe),Ee=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(l.a)(this,Object(d.a)(t).call(this,e))).discardProductFromCart=function(e){return n.cartAndWishlistService.discardProductFromCart(n.props.user.token,e)},n.handleDecreasingQuantity=function(e,t,a){return 1===n.props.quantity?n.discardProductFromCart(e.id):n.cartService.changeQuantityOnCart(e,t,a)},n.state={},n.cartAndWishlistService=new f(Object(u.a)(n)),n.cartService=new g(Object(u.a)(n)),n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.product;return r.a.createElement(r.a.Fragment,null,r.a.createElement(E.a,null,r.a.createElement(y.a,{xs:3,sm:3,md:3},r.a.createElement(b.a,{style:{width:"70px",height:"105px",marginRight:5},fluid:!0,image:this.props.productImages.front_url})),r.a.createElement(y.a,{xs:7,sm:7,md:8,className:"mx-auto"},r.a.createElement(E.a,null,r.a.createElement(y.a,{xs:12,md:12,sm:12,lg:12},r.a.createElement("span",{style:{color:"#fff"}},t.display_name)),r.a.createElement(y.a,{style:{fontSize:"90%",textAlign:"left"},xs:6,md:6,sm:6,lg:6},t.on_sale?r.a.createElement(r.a.Fragment,null,r.a.createElement(O.a,{style:{color:"#fff"},size:"small",name:"tag"}),r.a.createElement("span",{style:{color:"#fff"}},"On Sale!")):null),r.a.createElement(y.a,{style:{fontSize:"90%",textAlign:"right"},xs:6,md:6,sm:6,lg:6},r.a.createElement("p",{style:{color:"#fff"}},t.list_price))),r.a.createElement(E.a,{style:{marginTop:5}},r.a.createElement(y.a,{xs:6,sm:6,md:6,lg:6},r.a.createElement(E.a,null,r.a.createElement(y.a,{id:"stupid-button",xs:4,sm:4,md:4,lg:4},r.a.createElement(x.a,{size:"mini",active:"S"===this.props.size,style:{fontWeigt:"bold",padding:"10px"},inverted:!0,onClick:function(){return e.cartService.changeSizeForProduct(e.props.product,e.props.user.token,"S")}},"S")),r.a.createElement(y.a,{id:"stupid-button",xs:4,sm:4,md:4,lg:4},r.a.createElement(x.a,{size:"mini",active:"M"===this.props.size,style:{fontWeigt:"bold",padding:"10px"},inverted:!0,onClick:function(){return e.cartService.changeSizeForProduct(e.props.product,e.props.user.token,"M")}},"M")),r.a.createElement(y.a,{id:"stupid-button",xs:4,sm:4,md:4,lg:4},r.a.createElement(x.a,{size:"mini",active:"L"===this.props.size,style:{fontWeigt:"bold",marginLeft:5,padding:"10px"},inverted:!0,onClick:function(){return e.cartService.changeSizeForProduct(e.props.product,e.props.user.token,"L")}},"L")))),r.a.createElement(y.a,{xs:6,sm:6,md:6,lg:6,style:{color:"#fff"}},"quantity: ",this.props.quantity))),r.a.createElement(y.a,{xs:1,sm:1,md:1},r.a.createElement(E.a,{style:{height:"36%"}},r.a.createElement(O.a,{onClick:function(){return e.discardProductFromCart(t.id)},style:{color:"#fff"},name:"close"})),r.a.createElement(E.a,{style:{height:"20%"}},r.a.createElement(O.a,{onClick:function(){return e.cartService.changeQuantityOnCart(t,e.props.user.token,"not minus")},style:{color:"#fff"},name:"plus"})),r.a.createElement(E.a,{style:{height:"20%"}},r.a.createElement(O.a,{onClick:function(){return e.handleDecreasingQuantity(t,e.props.user.token,"minus")},style:{color:"#fff"},name:"minus"})))),r.a.createElement("br",null))}}]),t}(r.a.Component),ye=Object(_.b)((function(e,t){return{user:e.user,cart:e.cartAndWishlist.cart}}),(function(e,t){return{discardProductFromCart:function(t){e({type:"DISCARD_PRODUCT_FROM_CARD",newCart:t})},changeQuantityOnCart:function(t){e({type:"CHANGE_QUANTITY_ON_CART",newProduct:t})},changeSizeForProduct:function(t){e({type:"CHANGE_SIZE_FOR_PRODUCT",newProduct:t})}}}))(Ee),be=[],Se=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(l.a)(this,Object(d.a)(t).call(this,e))).discardProductFromWishlist=function(e){return n.cartAndWishlistService.discardProductFromWishlist(n.props.user.token,e)},n.state={},n.cartAndWishlistService=new f(Object(u.a)(n)),n.cartService=new g(Object(u.a)(n)),n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.product;return be=this.props.cart?this.props.cart.map((function(e){return e.product.id})):[],r.a.createElement(r.a.Fragment,null,r.a.createElement(E.a,null,r.a.createElement(y.a,{xs:3,sm:3,md:3},r.a.createElement(b.a,{style:{width:"70px",height:"105px",marginRight:5},fluid:!0,image:this.props.productImages.front_url})),r.a.createElement(y.a,{xs:7,sm:7,md:8,className:"mx-auto"},r.a.createElement(E.a,null,r.a.createElement(y.a,{sm:12,lg:12},r.a.createElement("span",{style:{color:"#fff"}},t.display_name)),r.a.createElement(y.a,{style:{textAlign:"left"},sm:6,lg:6},t.on_sale?r.a.createElement(r.a.Fragment,null,r.a.createElement(O.a,{style:{color:"#fff"},size:"small",name:"tag"}),r.a.createElement("span",{style:{color:"#fff"}},"On Sale!")):null),r.a.createElement(y.a,{style:{textAlign:"right"},sm:6,lg:6},r.a.createElement("p",{style:{color:"#fff"}},t.list_price))),r.a.createElement(E.a,null,r.a.createElement(y.a,{style:{textAlign:"left"},onClick:be.includes(t.id)?function(){}:function(){return e.cartService.addProductToCart(t.id,e.props.user.token)},sm:8},r.a.createElement(O.a,{size:"small",style:{color:"#fff"},name:"shopping cart"}),r.a.createElement("span",{style:{color:"#fff",marginLeft:1}},be.includes(t.id)?"Already on Cart":"Add To Cart")),r.a.createElement(y.a,{sm:4}))),r.a.createElement(y.a,{xs:1,sm:1,md:1},r.a.createElement(O.a,{onClick:function(){return e.discardProductFromWishlist(t.id)},style:{color:"#fff"},name:"close"}))),r.a.createElement("br",null))}}]),t}(r.a.Component),Ce=Object(_.b)((function(e,t){return{user:e.user,wishlist:e.cartAndWishlist.wishlist,cart:e.cartAndWishlist.cart}}),(function(e,t){return{discardProductFromWishlist:function(t){e({type:"DISCARD_PRODUCT_FROM_WISHLIST",newWishlist:t})},addProductToCart:function(t){e({type:"ADD_PRODUCT_TO_CART",newProduct:t})}}}))(Se),Oe=function(e,t){return e+parseInt(t.quantity)*parseInt(t.product.list_price.replace("$",""))},ve=function(e,t){return e+t.quantity},Ae=function(e,t){return e+parseInt(t.product.list_price.replace("$",""))},_e=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(l.a)(this,Object(d.a)(t).call(this))).renderCart=function(){if(e.props.cart)return r.a.createElement(R.a,null,r.a.createElement(C.a,{style:{color:"#fff",fontSize:20,fontWeight:"bold"},horizontal:!0},"My F31 Cart"),r.a.createElement(E.a,null,r.a.createElement(y.a,null,r.a.createElement(N.a,{as:"h4",style:{color:"#fff"}},"Total: $",e.props.cart.reduce(Oe,0))),r.a.createElement(y.a,null,r.a.createElement(N.a,{as:"h4",style:{color:"#fff"}},"Item Count: ",e.props.cart.reduce(ve,0)))),r.a.createElement("br",null),0===e.props.cart.length?r.a.createElement(N.a,{as:"h2",onClick:function(){return e.props.closeSideBar(!1)},style:{color:"#fff"}}," no item ?! didn't like that... "):null,e.props.cart.map((function(e){return r.a.createElement(ye,{key:e.product.id,quantity:e.quantity,size:e.size,product:e.product,productImages:e.product_images[0]})})),r.a.createElement(E.a,{style:{justifyContent:"flex-end"}},r.a.createElement(F.b,{to:"/checkout"},r.a.createElement(N.a,{onClick:function(){return e.props.closeSideBar(!1)},as:"h4",style:{color:"#fff"}},"Proceed to Checkout"))))},e.renderWishlist=function(){if(e.props.wishlist)return r.a.createElement(R.a,null,r.a.createElement(C.a,{style:{color:"#fff",fontSize:20,fontWeight:"bold"},horizontal:!0},"My F31 wishlist"),r.a.createElement(E.a,null,r.a.createElement(y.a,null,r.a.createElement(N.a,{as:"h4",style:{color:"#fff"}},"Total: $",e.props.wishlist.reduce(Ae,0))),r.a.createElement(y.a,null,r.a.createElement(N.a,{as:"h4",style:{color:"#fff"}},"Item Count: ",e.props.wishlist.length))),r.a.createElement("br",null),0===e.props.wishlist.length?r.a.createElement(N.a,{as:"h2",onClick:function(){return e.props.closeSideBar(!1)},style:{color:"#fff"}}," who am I to judge, right? "):null,e.props.wishlist.map((function(e){return r.a.createElement(Ce,{key:e.product.id,product:e.product,productImages:e.product_images[0]})})))},e.renderContent=function(){return 0===e.props.contentId?r.a.createElement(ge,{closeSideBar:e.props.closeSideBar}):1===e.props.contentId&&e.props.user.token?e.renderCart():2===e.props.contentId&&e.props.user.token?e.renderWishlist():void 0},e.state={},e}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(R.a,null,r.a.createElement(O.a,{name:"close",size:"large",onClick:function(){return e.props.closeSideBar(!1)},style:{color:"#fff",marginTop:5}}),this.renderContent())}}]),t}(r.a.Component),we=Object(_.b)((function(e,t){return{products:e.products,user:e.user,cart:e.cartAndWishlist.cart,wishlist:e.cartAndWishlist.wishlist}}))(_e),ke=n(465),Te=n(460),je=n(461),xe=n(116),Ie=n.n(xe),Pe=function(e){var t=e.display_name,n=e.link_id;e.list_price;return r.a.createElement(F.b,{to:"/products/".concat(n)}," ",r.a.createElement(N.a,{as:"h5",content:t})," ")},We=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(l.a)(this,Object(d.a)(t).call(this,e))).logOut=function(){n.props.clearUserAuth(),n.props.clearCartAndWishlist(),localStorage.token="",localStorage.userId="",localStorage.addressLineOne="",localStorage.addressLineTwo="",localStorage.watsonSessionId="",localStorage.limit=""},n.renderSigns=function(){return n.props.user.token?r.a.createElement(Te.a.Item,{onClick:function(){return n.logOut()},style:{marginLeft:10,marginRight:10,fontWeight:"bold"}},"Log Out"):r.a.createElement(r.a.Fragment,null,r.a.createElement(Te.a.Item,{onClick:function(){return n.handleModal(0)},style:{marginLeft:10,fontWeight:"bold"}},"Sign In or"),r.a.createElement(Te.a.Item,{onClick:function(){return n.handleModal(0)},style:{marginLeft:3,marginRight:10,fontWeight:"bold"}},"Sign Up"))},n.handleModal=function(e){n.props.sendContentId(e),n.props.openModal(!0)},n.handleSearchChange=function(e,t){var a=t.value;n.setState({isLoading:!0,value:a}),setTimeout((function(){var e=new RegExp(Ie.a.escapeRegExp(n.state.value),"i");n.setState({isLoading:!1,results:Ie.a.filter(n.props.products,(function(t){return e.test(t.display_name)})).slice(0,5)})}),300)},n.state={isLoading:!1,results:[],value:""},n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(je.a,{className:"w-100",expand:"lg",fixed:"top",bg:"light"},r.a.createElement(je.a.Brand,{href:"/",className:"mx-auto",style:{fontFamily:"Indie Flower",fontWeight:"bold",fontSize:20}},"Forever 31"),r.a.createElement(je.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),r.a.createElement(je.a.Collapse,{id:"responsive-navbar-nav"},r.a.createElement(Te.a,{className:"mx-auto"},r.a.createElement(E.a,{className:"mx-auto"},r.a.createElement(ke.a,Object.assign({size:"mini",loading:this.state.isLoading,onResultSelect:this.handleResultSelect,onSearchChange:Ie.a.debounce(this.handleSearchChange,500,{leading:!0}),results:this.state.results,value:this.state.value,resultRenderer:Pe},this.props)))),r.a.createElement("br",null),r.a.createElement(Te.a,null,r.a.createElement(E.a,{className:"mx-auto"},r.a.createElement(Te.a.Item,null,r.a.createElement("span",{style:{marginLeft:5},onClick:function(){return e.handleModal(1)}},r.a.createElement(O.a,{style:{fontSize:"1.1em"},name:"shopping cart"}),this.props.cart?"(".concat(this.props.cart.length,")"):"(0)")),r.a.createElement(Te.a.Item,null,r.a.createElement("span",{style:{marginLeft:8,marginRight:5},onClick:function(){return e.handleModal(2)}},r.a.createElement(O.a,{style:{fontSize:"1.1em"},name:"heart"}),this.props.wishlist?"(".concat(this.props.wishlist.length,")"):"(0)")),this.renderSigns())))),r.a.createElement(je.a,{bg:"light",fixed:"bottom"},r.a.createElement(Te.a,{className:"mx-auto"},r.a.createElement("a",{href:"https://facebook.com/",target:"_blank",rel:"noopener noreferrer",className:"fa fa-facebook"}),r.a.createElement("a",{href:"https://instagram.com/",rel:"noopener noreferrer",target:"_blank",className:"fa fa-instagram"}),r.a.createElement("a",{href:"https://youtube.com/",rel:"noopener noreferrer",target:"_blank",className:"fa fa-youtube"}),r.a.createElement("a",{href:"https://twitter.com/",rel:"noopener noreferrer",target:"_blank",className:"fa fa-twitter"}),r.a.createElement("a",{href:"https://foursquare.com/",rel:"noopener noreferrer",target:"_blank",className:"fa fa-foursquare"}),r.a.createElement("a",{href:"https://linkedin.com/",rel:"noopener noreferrer",target:"_blank",className:"fa fa-linkedin"}),r.a.createElement("a",{href:"https://yahoo.com/",rel:"noopener noreferrer",target:"_blank",className:"fa fa-yahoo"}),r.a.createElement("a",{href:"https://reddit.com/",rel:"noopener noreferrer",target:"_blank",className:"fa fa-reddit"}),r.a.createElement("br",null),r.a.createElement("br",null))))}}]),t}(a.Component),Re=Object(_.b)((function(e,t){return{user:e.user,products:e.products.map((function(e){return Object(Y.a)({},e,{link_id:e.id})})),cart:e.cartAndWishlist.cart,wishlist:e.cartAndWishlist.wishlist}}),(function(e,t){return{clearUserAuth:function(){e({type:"CLEAR_USER_AUTH"})},clearCartAndWishlist:function(){e({type:"CLEAN_CART_AND_WISHLIST"})}}}))(We),Le=n(466),De=n(470),Ne=n(468),Ue=function e(t){var n=this;Object(i.a)(this,e),this.sendNewUserMessage=function(e){fetch("".concat(n.workingURL,"/post_input_to_watson"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({session_id:n.component.props.user.watsonSessionId,input:e})}).then((function(e){return e.json()})).then((function(e){console.log(e),e.session_id?(n.component.props.addWatsonSession(e.session_id),localStorage.watsonSessionId=e.session_id,"text"===e.original_response.output.generic[0].response_type?n.component.addResponseMessage(e.original_response.output.generic[0].text):n.component.addResponseMessage("Can you rephrase? I didn't understand...")):"text"===e.original_response.output.generic[0].response_type?n.component.addResponseMessage(e.original_response.output.generic[0].text):n.component.addResponseMessage("Can you rephrase? I didn't understand...")}))},this.component=t,this.workingURL="https://immense-garden-92266.herokuapp.com"},Fe=(V.b.div({enter:{opacity:1,delay:500,beforeChildren:!0},exit:{opacity:1}}),function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(l.a)(this,Object(d.a)(t).call(this))).getContentId=function(t){return void 0!==e.props.user.token?e.setState({contentId:t}):e.setState({contentId:0})},e.setVisible=function(t){return e.setState({visible:t},(function(){t?console.log():this.setState({contentId:""})}))},e.handleNewUserMessage=function(t){e.watsonService.sendNewUserMessage(t)},e.state={visible:!1,windowWidth:Math.max(document.documentElement.clientWidth,window.innerWidth||0),contentId:0,isWidgetOpen:!1},e.cartAndWishlistService=new f(Object(u.a)(e)),e.watsonService=new Ue(Object(u.a)(e)),e.addResponseMessage=se.addResponseMessage,e}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.addResponseMessage("Hi there! From F31 Store!"),localStorage.userId&&(this.props.addUserAuth({token:localStorage.token,userId:localStorage.userId,address:{line_1:localStorage.addressLineOne,line_2:localStorage.addressLineTwo}}),this.cartAndWishlistService.fetchCartAndWishlist(localStorage.token)),setInterval(this.watsonService.createWatsonSession,5e4)}},{key:"render",value:function(){var e=this,t=400,n=this.state.visible;return Math.max(document.documentElement.clientWidth,window.innerWidth)<400&&(t=Math.max(document.documentElement.clientWidth,window.innerWidth||0)),r.a.createElement(r.a.Fragment,null,r.a.createElement(U.b,{render:function(a){var o=a.location;return r.a.createElement(Le.a.Pushable,{as:De.a},r.a.createElement(Le.a,{as:Ne.a,animation:"overlay",direction:"right",icon:"labeled",inverted:!0,onHide:function(){return e.setVisible(!1)},vertical:!0,visible:n,style:{width:t}},r.a.createElement(we,{contentId:e.state.contentId,closeSideBar:e.setVisible})),r.a.createElement(Le.a.Pusher,{dimmed:n},r.a.createElement(Re,{sendContentId:e.getContentId,openModal:e.setVisible}),r.a.createElement(De.a,{style:{backgroundColor:"#fcfeff"},basic:!0},r.a.createElement(U.d,{location:o},r.a.createElement(U.b,{exact:!0,path:"/",component:ce,key:"index"}),r.a.createElement(U.b,{exact:!0,path:"/products/:id",render:function(t){return r.a.createElement(he,Object.assign({},t,{openModal:e.setVisible}))},key:"show"}),r.a.createElement(I.StripeProvider,{apiKey:"pk_test_YJZiIQadCitjxkefrqHysj0g00BNRtnusD"},r.a.createElement(I.Elements,null,r.a.createElement(U.b,{path:"/checkout",component:q,key:"checkout"})))))))}}),r.a.createElement(se.Widget,{handleNewUserMessage:this.handleNewUserMessage,subtitle:"You can ask anything you want!"}))}}]),t}(r.a.Component)),Me=Object(_.b)((function(e,t){return{products:e.products,user:e.user}}),(function(e,t){return{addUserAuth:function(t){e({type:"ADD_USER_AUTH",user:t})},addCartAndWishlist:function(t){e({type:"ADD_CART_AND_WISHLIST",cartAndWishlist:t})},addWatsonSession:function(t){e({type:"ADD_WATSON_SESSION",sessionId:t})}}}))(Fe),ze=n(67),He=[],Be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:He,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"POPULATE_PRODUCTS":return t.products;case"ADD_PRODUCTS":return e.concat(t.products);case"CLEAN_ALL_PRODUCTS":return;default:return e}},Qe=[],qe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_CART_AND_WISHLIST":return t.cartAndWishlist;case"CLEAN_CART":return Object(Y.a)({},e,{cart:[]});case"DISCARD_PRODUCT_FROM_CARD":return Object(Y.a)({},e,{cart:t.newCart});case"DISCARD_PRODUCT_FROM_WISHLIST":return Object(Y.a)({},e,{wishlist:t.newWishlist});case"ADD_PRODUCT_TO_WISHLIST":return Object(Y.a)({},e,{wishlist:[].concat(Object(le.a)(e.wishlist),[t.newProduct])});case"ADD_PRODUCT_TO_CART":return Object(Y.a)({},e,{cart:[t.newProduct].concat(Object(le.a)(e.cart))});case"CHANGE_QUANTITY_ON_CART":var n=e.cart.map((function(e){return e.product.id===t.newProduct.product.id?t.newProduct:e}));return Object(Y.a)({},e,{cart:Object(le.a)(n)});case"CHANGE_SIZE_FOR_PRODUCT":var a=e.cart.map((function(e){return e.product.id===t.newProduct.product.id?t.newProduct:e}));return Object(Y.a)({},e,{cart:Object(le.a)(a)});case"CLEAN_CART_AND_WISHLIST":return{};default:return e}},Ye={},Je=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ye,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_USER_AUTH":return t.user;case"ADD_ADDRESS":return Object(Y.a)({},e,{address:t.address});case"ADD_WATSON_SESSION":return Object(Y.a)({},e,{watsonSessionId:t.sessionId});case"CLEAR_USER_AUTH":return{};default:return e}},Ve=Object(ze.b)({products:Be,cartAndWishlist:qe,user:Je}),$e={productActionCreator:function(e){return{type:"POPULATE_PRODUCTS",products:e}},userAuthActionCreator:function(e){return{type:"ADD_USER_AUTH",user:e}}};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ge=Object(ze.c)(Ve,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());fetch("https://immense-garden-92266.herokuapp.com/products?limit=".concat(parseInt(localStorage.limit)>20?localStorage.limit:"31")).then((function(e){return e.json()})).then((function(e){Ge.dispatch($e.productActionCreator(e)),s.a.render(r.a.createElement(F.a,null,r.a.createElement(_.a,{store:Ge},r.a.createElement(Me,null))),document.getElementById("root"))})),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[237,1,2]]]);
//# sourceMappingURL=main.9a22e0e9.chunk.js.map