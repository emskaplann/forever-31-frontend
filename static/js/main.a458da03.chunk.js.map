{"version":3,"sources":["services/CartAndWishlistService.js","services/CartService.js","sub-components/RenderProductsForCheckout.js","services/UserService.js","sub-components/CheckoutForm.js","main-components/Checkout.js","services/WishlistService.js","sub-components/Alert.js","sub-components/ProductCardComponent.js","main-components/ProductIndex.js","main-components/ProductShow.js","sub-components/sidebar/RenderSign.js","sub-components/sidebar/RenderProduct.js","sub-components/sidebar/RenderProductForWishlist.js","main-components/SideBarContent.js","sub-components/NavbarView.js","services/WatsonService.js","App.js","reducers/productReducer.js","reducers/CartAndWishlistReducer.js","reducers/userReducer.js","reducers/index.js","actionCreators.js","serviceWorker.js","index.js"],"names":["CartAndWishlistService","component","fetchCartAndWishlist","token","fetch","workingURL","method","headers","Authorization","then","r","json","responseCart","responseWishlist","cartAndWishlist","cart","wishlist","setState","contentId","props","addCartAndWishlist","discardProductFromCart","productId","response","state","loading","console","log","added","visible","type","action","discardProductFromWishlist","this","CartService","needToLogin","addProductToCart","Accept","body","JSON","stringify","product_id","changeQuantityOnCart","product","minus","id","asd","changeSizeForProduct","size","update_size","RenderProductsForCheckout","cartAndWishlistService","user","handleDecreasingQuantity","object","quantity","cartService","style","marginTop","map","splittedDesc","description","replace","split","idx","indexOf","count","length","splice","newDesc","join","Row","key","marginBottom","Col","xs","sm","md","lg","Card","Image","src","product_images","front_url","fontSize","fontWeight","display_name","Divider","color","ReactHtmlParser","vertical","list_price","textAlign","paddingLeft","Icon","onClick","name","shipping_fee","student_deal","React","Component","connect","ownProps","dispatch","mergeProps","newCart","newProduct","UserService","login","user_id","address","error","undefined","localStorage","userId","addressLineOne","line_1","addressLineTwo","line_2","addUserAuth","errors","closeSideBar","signUp","createAddressAlternative","addAddress","Object","values","flat","er","includes","toLowerCase","getAllUserNames","usernames","createAddress","lineOne","lineTwo","changeShippingAddress","saveNewAddress","CheckoutForm","handleInputChangeLineOne","event","currentTarget","value","emptyForm","handleInputChangeLineTwo","openOrCloseShippingAdressForm","userService","letterSpacing","Input","onChange","width","placeholder","marginLeft","isNameFormCompleted","handleName","isEmailFormCompleted","handleEmail","base","fontFamily","invalid","e","handleChange","Button","fluid","submit","total","float","itemCount","reducer","accumulator","currentValue","parseInt","reducer2","Checkout","complete","isFormCompleted","handleNameInputChange","handleEmailInputChange","email","bind","paymentLoading","orderAmount","redirect","reduce","swal","title","text","icon","buttons","dangerMode","willDelete","a","stripe","createToken","address_line1","address_line2","amount","items","ok","cleanCart","to","Container","minHeight","Dimmer","active","Loader","Header","as","dividing","injectStripe","WishlistService","addProductToWishlist","Alert","decreaseTimer","timer","closeAlert","interval","setInterval","changeNeedToLogin","clearInterval","Message","backgroundColor","Box","posed","div","hoverable","pressable","init","scale","boxShadow","hover","opacity","press","cartProductIds2","wishlistProductIds2","DetailsOnBox","ProductCardComponent","handleWishlistClick","wishlistService","handleCartClick","isVisible","className","position","imgUrl","borderBottomLeftRadius","borderBottomRightRadius","fallbackImage","initialImage","alt","top","Label","corner","bottom","newWishlist","ProductIndex","addMoreProducts","limit","products","displayName","images","ProductShow","require","openModal","cartProductIds","wishlistProductIds","carouselItems","youMightAlsoLikeProducts","Carousel","maxWidth","justifyContent","colSpan","border","horizontal","carouselItemGenerator","newItems","productImages","normalize","Item","randomProductGenerator","choosedProducts","ids","find","i","rand","Math","floor","random","push","match","params","RenderSign","renderPasswordConfirmation","passwordMatch","iconPosition","handleChangeOnConfirmation","handleChangeOnUsername","username","target","uniqueUsername","passwordConfirmation","password","handleSubmit","password_confirmation","inline","list","header","basic","inverted","RenderProduct","height","marginRight","image","on_sale","fontWeigt","padding","reducer3","SideBarContent","renderCart","renderWishlist","RenderProductForWishlist","renderContent","resultRenderer","link_id","content","NavbarView","logOut","clearUserAuth","clearCartAndWishlist","watsonSessionId","renderSigns","Nav","handleModal","sendContentId","handleSearchChange","isLoading","setTimeout","re","RegExp","_","escapeRegExp","results","filter","result","test","slice","Navbar","expand","fixed","bg","Brand","href","Toggle","aria-controls","Collapse","Search","onResultSelect","handleResultSelect","onSearchChange","debounce","leading","rel","el","WatsonService","sendNewUserMessage","message","session_id","input","addWatsonSession","original_response","output","generic","response_type","addResponseMessage","App","enter","delay","beforeChildren","exit","getContentId","setVisible","bool","handleNewUserMessage","newMessage","watsonService","setLoader","isLoaded","windowWidth","max","document","documentElement","clientWidth","window","innerWidth","isWidgetOpen","createWatsonSession","loader","sideBarWidth","render","location","Sidebar","Pushable","Segment","Menu","animation","direction","onHide","Pusher","dimmed","exact","path","process","apiKey","subtitle","margin","left","right","sessionId","initialState","productReducer","oldState","concat","CartAndWishlistReducer","newCart2","userReducer","combineReducers","actionCreators","productActionCreator","newProducts","userAuthActionCreator","Boolean","hostname","store","createStore","__REDUX_DEVTOOLS_EXTENSION__","ReactDOM","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.a458da03.chunk.js","sourcesContent":["class CartAndWishlistService {\n  constructor(component) {\n    this.component = component\n    this.workingURL = 'https://immense-garden-92266.herokuapp.com'\n    // this.workingURL = 'http://localhost:3000'\n  }\n\n  fetchCartAndWishlist = (token) => {\n    // cart fetch\n    fetch(`${this.workingURL}/carts`, {\n      method: 'GET',\n      headers: {\n        Authorization: token\n      }\n    })\n    .then(r => r.json())\n    .then(responseCart => {\n      // wishlist fetch\n      fetch(`${this.workingURL}/wish_lists`, {\n        method: 'GET',\n        headers: {\n          Authorization: token\n        }\n      })\n      .then(r => r.json())\n      .then(responseWishlist => {\n        let cartAndWishlist = {cart: responseCart, wishlist: responseWishlist}\n        this.component.setState({contentId: 1})\n        this.component.props.addCartAndWishlist(cartAndWishlist)\n      })\n    })\n  }\n\n  discardProductFromCart = (token, productId) => {\n    fetch(`${this.workingURL}/carts/${productId}`, {\n      method: 'DELETE',\n      headers: {\n        Authorization: token\n      }\n    })\n    .then(r => r.json())\n    .then(response => {\n      this.component.props.discardProductFromCart(response)\n      this.component.state.loading ? this.component.setState({loading: false}) : console.log()\n      this.component.state.added ? this.component.setState({added: {visible: true, type: 'cart', action: 'removed from'}}) : console.log()\n    })\n  }\n\n  discardProductFromWishlist = (token, productId) => {\n    fetch(`${this.workingURL}/wish_lists/${productId}`, {\n      method: 'DELETE',\n      headers: {\n        Authorization: token\n      }\n    })\n    .then(r => r.json())\n    .then(response => {\n      this.component.props.discardProductFromWishlist(response)\n      this.component.state.loading ? this.component.setState({loading: false}) : console.log()\n      this.component.state.added ? this.component.setState({added: {visible: true, type: 'wishlist', action: 'removed from'}}) : console.log()\n    })\n  }\n\n}\n\n\n\nexport default CartAndWishlistService;\n","class CartService {\n  constructor(component) {\n    this.component = component\n    this.workingURL = 'https://immense-garden-92266.herokuapp.com'\n    // this.workingURL = 'http://localhost:3000'\n  }\n\n  needToLogin = () => this.component.state.added ? this.component.setState({added: {visible: true, needToLogin: true}}) : console.log()\n\n  addProductToCart = (productId, token) => {\n    fetch(`${this.workingURL}/carts`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: token,\n        Accept: 'application/json'\n      }, body: JSON.stringify({\n        product_id: productId\n      })\n    })\n    .then(r => r.json())\n    .then(response => {\n      this.component.props.addProductToCart(response)\n      this.component.state.added ? this.component.setState({added: {visible: true, type: 'cart', action: 'added to'}}) : console.log()\n    })\n  }\n\n  changeQuantityOnCart = (product, token, minus) => {\n    fetch(`${this.workingURL}/carts/${product.id}`, {\n      method: 'PATCH',\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: token,\n        Accept: 'application/json'\n      }, body: JSON.stringify({\n          asd: minus\n      })\n    })\n    .then(r => r.json())\n    .then(response => {\n      this.component.props.changeQuantityOnCart(response[0])\n    })\n  }\n\n  changeSizeForProduct = (product, token, size) => {\n    fetch(`${this.workingURL}/carts/${product.id}`, {\n      method: 'PATCH',\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: token,\n        Accept: 'application/json'\n      }, body: JSON.stringify({\n          update_size: 'true',\n          size: size\n      })\n    })\n    .then(r => r.json())\n    .then(response => {\n      this.component.props.changeSizeForProduct(response[0])\n    })\n  }\n\n}\n\nexport default CartService;\n","import React from 'react';\nimport CartAndWishlistService from '../services/CartAndWishlistService.js';\nimport CartService from '../services/CartService.js';\nimport { Container, Row, Col } from 'react-bootstrap';\nimport { Card, Image, Icon, Divider } from 'semantic-ui-react';\nimport ReactHtmlParser from 'react-html-parser';\nimport { connect } from 'react-redux';\n\nclass RenderProductsForCheckout extends React.Component {\n  constructor () {\n    super();\n    this.state = {\n\n    }\n    this.cartAndWishlistService = new CartAndWishlistService(this)\n    this.cartService = new CartService(this)\n  }\n\n  discardProductFromCart = (productId) => this.cartAndWishlistService.discardProductFromCart(this.props.user.token, productId)\n\n  handleDecreasingQuantity = (object, token, minus) => {\n    if(object.quantity === 1){\n      return this.discardProductFromCart(object.product.id)\n    }\n    return this.cartService.changeQuantityOnCart(object.product, token, minus)\n  }\n\n  render () {\n    if(this.props.cart){\n      return (\n        <div style={{marginTop: 20}}>\n          {this.props.cart.map(object => {\n            // Content + CareSize + Fit sub-description was like this before replace() - now => Content + Care Size + Fit\n            const clearedDesc = object.product.description.replace('</div></section><section', '</div> </section> <section>')\n            const splittedDesc = clearedDesc.split(' ')\n            const idx = splittedDesc.indexOf(\"</section>\")\n            const count = splittedDesc.length - idx\n            if (idx > -1) {\n              splittedDesc.splice(idx, count);\n            }\n            const newDesc = splittedDesc.join(' ')\n            return(\n              <Row key={`productCheckout-${object.product.id}`}style={{marginBottom: 20}}>\n                <Col xs={2} sm={2} md={2} lg={2}>\n                  <Card>\n                    <Image src={object.product_images[0].front_url} />\n                  </Card>\n                </Col>\n                <Col style={{}} xs={7} sm={7} md={7} lg={7}>\n                  <Row style={{ fontSize: '135%',fontWeight: 'bold'}}>{object.product.display_name}</Row>\n                  <Divider style={{color: '#d3d3d3' }} />\n                  <Row>{ ReactHtmlParser(newDesc) }</Row>\n                </Col>\n                <Col xs={1} sm={1} md={1} lg={1}>\n                  <Divider style={{color: '#d3d3d3' }} vertical>|</Divider>\n                </Col>\n                <Col style={{}} xs={12} sm={2} md={2} lg={2}>\n                  <Row style={{ fontSize: '135%', fontWeight: 'bold' }}>{object.product.list_price}</Row>\n                  <Row style={{marginBottom: 7}}>\n                    <Col style={{fontSize: '105%', textAlign: 'left', paddingLeft: 0 }} xs={8} sm={12} md={12} lg={7}>\n                      Quantity: {object.quantity}\n                    </Col>\n                    <Col xs={2} sm={6} md={6} lg={2}>\n                      <Icon onClick={() => this.handleDecreasingQuantity(object, this.props.user.token, \"minus\")} style={{}} name='minus' />\n                    </Col>\n                    <Col xs={2} sm={6} md={6} lg={2}>\n                      <Icon onClick={() => this.cartService.changeQuantityOnCart(object.product, this.props.user.token, 'not minus')} style={{}} name='plus' />\n                    </Col>\n                  </Row>\n                  <Row>\n                    <Col style={{textAlign: 'left', paddingLeft: 0}} sm={true}>\n                      Shipping Fee: {object.product.shipping_fee}\n                    </Col>\n                  </Row>\n                  <Row>\n                    <Col style={{textAlign: 'left', paddingLeft: 0}} sm={true}>\n                      Student Deal: {object.product.student_deal ? 'Yes' : 'No'}\n                    </Col>\n                  </Row>\n                </Col>\n              </Row>\n            )\n          })}\n        </div>\n      )\n    } else {\n      return(\n        <>{/*Loading component*/}</>\n      )\n    }\n  }\n}\n\nconst mapStateToProps = (state, ownProps) => {\n  return {\n    cart: state.cartAndWishlist.cart,\n    user: state.user\n  }\n}\n\nconst mapDispatchToProps = (dispatch, mergeProps) => {\n    return {\n      discardProductFromCart: (newCart) => {\n        dispatch({\n          type: 'DISCARD_PRODUCT_FROM_CARD',\n          newCart: newCart\n        })\n    }, changeQuantityOnCart: (newProduct) => {\n      dispatch({\n        type: 'CHANGE_QUANTITY_ON_CART',\n        newProduct: newProduct\n      })\n    }\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(RenderProductsForCheckout);\n","class UserService {\n  constructor(component) {\n    this.component = component\n    this.workingURL = 'https://immense-garden-92266.herokuapp.com'\n    // this.workingURL = 'http://localhost:3000'\n  }\n\n  login = (user) => {\n    fetch(`${this.workingURL}/login`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        Accept: 'application/json'\n      }, body: JSON.stringify({\n        user\n      })\n    })\n    .then(r => r.json())\n    .then(({token, user_id, address, error}) => {\n      if (error === undefined) {\n        localStorage.token = token\n        localStorage.userId = user_id\n        if(address){\n          localStorage.addressLineOne = address.line_1\n          localStorage.addressLineTwo = address.line_2\n        }\n        this.component.props.addUserAuth({token: token, userId: user_id, address: address})\n        this.component.cartAndWishlistService.fetchCartAndWishlist(token)\n        this.component.setState({errors: [], loading: false})\n        this.component.props.closeSideBar(false)\n      } else {\n        this.component.setState({errors: [ error ], loading: false})\n      }\n    })\n  }\n\n  signUp = (user) => {\n    fetch(`${this.workingURL}/signup`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        Accept: 'application/json'\n      }, body: JSON.stringify({ user })\n    })\n    .then(r => r.json())\n    .then(({token, user_id, errors, address}) => {\n      // example of server response for multiple errors\n      // {:username=>[\"has already been taken\"], :password_confirmation=>[\"doesn't match Password\"]}\n      if (errors === undefined) {\n        localStorage.token = token\n        localStorage.userId = user_id\n        this.component.props.addUserAuth({token: token, userId: user_id})\n        this.component.cartAndWishlistService.fetchCartAndWishlist(token)\n        this.component.setState({error: '', loading: false})\n        this.component.props.closeSideBar(false)\n        this.createAddressAlternative(\"\", \"\", token, user_id)\n        this.component.props.addAddress({line_1: \"\", line_2: \"\"})\n      } else {\n        this.component.setState({errors: Object.values(errors).flat().map(er => er.includes('already') ? 'username ' + er.toLowerCase() : er.toLowerCase()), loading: false})\n      }\n    })\n  }\n\n  getAllUserNames = () => {\n    fetch(`${this.workingURL}/users`)\n    .then(r => r.json())\n    .then(response => {\n      this.component.setState({usernames: response})\n    })\n  }\n\n  createAddress = (lineOne, lineTwo) => {\n    fetch(`${this.workingURL}/addresses`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        Accept: 'application/json',\n        Authorization: this.component.props.user.token\n      }, body: JSON.stringify({address: { line_1: lineOne, line_2: lineTwo, user_id: this.component.props.user.userId }})\n    })\n    .then(r => r.json())\n    .then(response => {\n      localStorage.addressLineOne = response.line_1\n      localStorage.addressLineTwo = response.line_2\n      this.component.props.addAddress({line_1: response.line_1, line_2: response.line_2})\n      this.component.setState({changeShippingAddress: false})\n    })\n  }\n\n  createAddressAlternative = (lineOne, lineTwo, token, userId) => {\n    fetch(`${this.workingURL}/addresses`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        Accept: 'application/json',\n        Authorization: token,\n      }, body: JSON.stringify({address: { line_1: lineOne, line_2: lineTwo, user_id: userId }})\n    })\n    .then(r => r.json())\n    .then(response => {\n      localStorage.addressLineOne = response.line_1\n      localStorage.addressLineTwo = response.line_2\n    })\n  }\n\n  saveNewAddress = (lineOne, lineTwo) => {\n    fetch(`${this.workingURL}/addresses/${this.component.props.user.userId}`, {\n      method: 'PATCH',\n      headers: {\n        'Content-Type': 'application/json',\n        Accept: 'application/json',\n        Authorization: this.component.props.user.token\n      }, body: JSON.stringify({address: { line_1: lineOne, line_2: lineTwo, user_id: this.component.props.user.userId }})\n    })\n    .then(r => r.json())\n    .then(response => {\n      localStorage.addressLineOne = response.line_1\n      localStorage.addressLineTwo = response.line_2\n      this.component.props.addAddress({line_1: response.line_1, line_2: response.line_2})\n      this.component.setState({changeShippingAddress: false})\n    })\n  }\n\n}\n\nexport default UserService;\n","import React from 'react';\nimport UserService from '../services/UserService.js';\nimport { connect } from 'react-redux';\nimport { Header, Divider, Input, Image, Button } from 'semantic-ui-react';\nimport { Container, Row, Col } from 'react-bootstrap';\nimport { CardElement, injectStripe } from 'react-stripe-elements';\n\nconst createOptions = () => {\n  return {\n    style: {\n      base: {\n        fontSize: '16px',\n        color: '#424770',\n        fontFamily: 'Open Sans, sans-serif',\n        letterSpacing: '0.025em',\n        '::placeholder': {\n          color: '#aab7c4',\n        }\n      },\n      invalid: {\n        color: '#c23d4b',\n      },\n    }\n  }\n};\n\nclass CheckoutForm extends React.Component {\n  constructor () {\n    super();\n    this.state = {\n      changeShippingAddress: false,\n      lineOne: \"\",\n      lineTwo: \"\",\n      emptyForm: true,\n    }\n    this.userService = new UserService(this)\n  }\n\n  componentWillMount () {\n    if(this.props.user.address.line_1 !== \"\"){\n      this.setState({changeShippingAddress: false, lineOne: this.props.user.address.line_1 !== null ? this.props.user.address.line_1 : \"\", lineTwo: this.props.user.address.line_2 !== null ? this.props.user.address.line_2 : \"\", emptyForm: false})\n    } else {\n      this.setState({changeShippingAddress: true, emptyForm: true})\n    }\n  }\n\n  handleInputChangeLineOne = (event) => this.setState({lineOne: event.currentTarget.value}, () => {this.state.lineOne !== \"\" ? this.setState({emptyForm: false}) : this.setState({emptyForm: true})})\n  handleInputChangeLineTwo = (event) => this.setState({lineTwo: event.currentTarget.value})\n  openOrCloseShippingAdressForm = () => this.setState({changeShippingAddress: !this.state.changeShippingAddress}, () => this.props.user.address.line_1 !== \"\" ? this.setState({lineOne: this.props.user.address.line_1}, () => {this.setState({lineTwo: this.props.user.address.line_2})}) : console.log())\n  saveNewAddress = () => {\n    if (this.state.lineOne !== \"\") {\n      if (this.props.user.address.line_1 !== \"\"){\n        this.userService.saveNewAddress(this.state.lineOne, this.state.lineTwo)\n      } else {\n        this.userService.createAddress(this.state.lineOne, this.state.lineTwo)\n      }\n    } else {\n      this.setState({emptyForm: true})\n    }\n  }\n\n  render () {\n    return (\n      <>\n        <Row>\n          {/* Add Conditional Rendering! */}\n          <Col style={{color: '#6b7c93', textAlign: 'left'}} xs={3} sm={2} md={2} lg={2}>\n            Shipping Adress:\n          </Col>\n          <Col xs={8} sm={9} md={9} lg={9}>\n            <Row>\n              <Col xs={10} sm={10} md={10} lg={10}>\n                 <div style={{ letterSpacing: '0.025em'}}>{this.state.changeShippingAddress ? <Input value={this.state.lineOne} error={this.state.emptyForm} onChange={this.handleInputChangeLineOne} size='mini' style={{width: '100%'}} placeholder='Adress Line 1...' /> : this.props.user.address.line_1}</div>\n              </Col>\n            </Row>\n            <Row>\n              <Col xs={10} sm={10} md={10} lg={10}>\n                 <div style={{ letterSpacing: '0.025em'}}>{this.state.changeShippingAddress ? <Input value={this.state.lineTwo} onChange={this.handleInputChangeLineTwo} size='mini' style={{width: '100%', marginTop: 10}} placeholder='Adress Line 2...' /> : this.props.user.address.line_2}</div>\n              </Col>\n            </Row>\n          </Col>\n          <Col style={{textAlign: 'right'}} xs={1} sm={1} md={1} lg={1}>\n            {this.state.changeShippingAddress ? <><span onClick={this.openOrCloseShippingAdressForm}>Cancel</span><span onClick={this.saveNewAddress} style={{marginLeft: 4}}>Save</span></> : <span onClick={this.openOrCloseShippingAdressForm}>Change</span>}\n          </Col>\n        </Row>\n        <Divider />\n        <Row style={{textAlign: 'left', marginTop: 10, marginBottom: 20}}>\n          <Col xs={12} md={8} sm={8}>\n          <Row style={{marginBottom: 20}}>\n            <Col xs={6} sm={6} style={{marginBottom: 10}}>\n              <label style={{color: '#6b7c93', letterSpacing: '0.025em'}}>\n                Name on Card\n                <br />\n                <Input error={!this.props.isNameFormCompleted} onChange={this.props.handleName} placeholder='Jack Willerson' size='mini'/>\n              </label>\n            </Col>\n            <Col xs={6} sm={6}>\n              <label style={{color: '#6b7c93', letterSpacing: '0.025em'}}>\n                Email\n                <br />\n                <Input error={!this.props.isEmailFormCompleted} onChange={this.props.handleEmail} placeholder='example@example.com' size='mini'/>\n              </label>\n            </Col>\n            <Col style={{ marginTop: 15}} xs={12} md={8} sm={10} lg={9}>\n              <CardElement {...createOptions()} onChange={(e) => this.props.handleChange(e)}/>\n            </Col>\n            <Col style={{marginTop: 8}} xs={12} md={4} lg={3} sm={2}>\n              <Button style={{ textAlign: 'center'}} fluid onClick={this.props.submit}>Pay ${this.props.total}</Button>\n            </Col>\n          </Row>\n          </Col>\n          <Col xs={6} md={4} sm={4}>\n            <Image style={{float: 'right'}} src='/images/stripe-secure-badge.png'></Image>\n          </Col>\n          <Col sm={2} md={2} xs={3} style={{fontWeight: 'bold', fontSize: 15}}>\n            Total: ${this.props.total}\n          </Col>\n          <Col sm={2} md={2} xs={3} style={{fontWeight: 'bold', fontSize: 15}}>\n            Item Count: {this.props.itemCount}\n          </Col>\n        </Row>\n        <br /><br />\n      </>\n    )\n  }\n}\n\nconst mapStateToProps = (state, ownProps) => {\n  return {\n    user: state.user,\n  }\n}\n\nconst mapDispatchToProps = (dispatch, mergeProps) => {\n    return {\n      addAddress: (address) => {\n        dispatch({\n          type: 'ADD_ADDRESS',\n          address: address\n        })\n    }\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(CheckoutForm);\n","import React from 'react';\nimport RenderProductsForCheckout from '../sub-components/RenderProductsForCheckout.js';\nimport CheckoutForm from '../sub-components/CheckoutForm.js';\nimport { CardElement, injectStripe } from 'react-stripe-elements';\nimport { Container, Row, Col } from 'react-bootstrap';\nimport { Dimmer, Header, Divider, Loader } from 'semantic-ui-react';\nimport { connect } from 'react-redux';\nimport { Redirect,  Link } from 'react-router-dom';\nimport swal from 'sweetalert';\n\n// reducers for cart's total and item count\nconst reducer = (accumulator, currentValue) => accumulator + (parseInt(currentValue.quantity) * parseInt(currentValue.product.list_price.replace('$', '')));\nconst reducer2 = (accumulator, currentValue) => accumulator + (currentValue.quantity)\n// reducer for wishlist's total\nconst reducer3 = (accumulator, currentValue) => accumulator + parseInt(currentValue.product.list_price.replace('$', ''));\n\n\nclass Checkout extends React.Component {\n  constructor(props){\n    super(props);\n    this.submit = this.submit.bind(this)\n    this.state = {\n      paymentLoading: false,\n      isFormCompleted: false,\n      isNameFormCompleted: false,\n      isEmailFormCompleted: false,\n      orderAmount: 0,\n      name: \"\",\n      email: \"\",\n      redirect: false\n    }\n  }\n\n  async submit() {\n    if(this.state.isFormCompleted && this.state.isNameFormCompleted && this.state.isEmailFormCompleted){\n      this.setState({orderAmount: this.props.cart.reduce(reducer, 0)})\n      swal({\n        title: \"Are you sure?\",\n        text: `You have totally ${this.props.cart.reduce(reducer2, 0)} item in your cart. And the total is $${this.props.cart.reduce(reducer, 0)}.`,\n        icon: \"warning\",\n        buttons: true,\n        dangerMode: true,\n      })\n      .then(async (willDelete) => {\n        if (willDelete) {\n          this.setState({paymentLoading: true})\n          let { token } = await this.props.stripe.createToken({name: this.state.name, address_line1: this.props.user.address.line_1, address_line2: this.props.user.address.line_2});\n          let response = await fetch(\"https://immense-garden-92266.herokuapp.com/charge\", {\n            method: \"POST\",\n            headers: {\"Content-Type\": \"application/json\", Accept: \"application/json\", Authorization: this.props.user.token},\n            body: JSON.stringify({\n                token: token.id,\n                name: this.state.name,\n                email: this.state.email,\n                amount: this.props.cart.reduce(reducer, 1) * 100,\n                items: this.props.cart.map(object => object.product.id).join(' - ')\n            })\n          })\n          // debugger\n          if (response.ok) {\n            this.props.cleanCart()\n            this.setState({paymentLoading: false})\n            swal(\"Purchase Completed!\", `You made a payment total of: $${this.state.orderAmount}`, \"success\")\n            .then((value) => {\n              this.setState({redirect: true})\n            })\n          } else {\n            this.setState({paymentLoading: false})\n            swal(\"OOPS! Something Went Wrong :/\", 'Something Causes Problem, Please Try Again Later.', \"error\")\n          }\n        } else {\n          this.setState({paymentLoading: false})\n          swal(\"You Cancelled Your Payment.\");\n        }\n      });\n    } else {\n      swal(\"Form is Not Completed :/\", `Make Sure That Name and Email Forms are Filled.`, \"error\");\n    }\n  }\n\n  handleChange = (e) => {\n    if(e.complete){\n      this.setState({isFormCompleted: true})\n    } else {\n      this.setState({isFormCompleted: false})\n    }\n  }\n\n  handleNameInputChange = (e) => this.setState({name: e.currentTarget.value}, this.state.name !== \"\" ? this.setState({isNameFormCompleted: true}) : this.setState({isNameFormCompleted: false}))\n  handleEmailInputChange = (e) => this.setState({email: e.currentTarget.value}, this.state.email !== \"\" ? this.setState({isEmailFormCompleted: true}) : this.setState({isEmailFormCompleted: false}))\n\n\n  render(){\n    if(localStorage.token === \"\" || localStorage.token === undefined){\n      return(<Redirect to='/forever-31-frontend' />)\n    }\n    else if(this.props.cart){\n      return(\n        <Container style={{minHeight: '98vh', marginTop: 50, marginBottom: 50}} key='checkoutContainer'>\n          {this.state.paymentLoading ? <Dimmer active><Loader size='big' /></Dimmer> : console.log()}\n          { this.state.redirect ? <Redirect to='/forever-31-frontend' /> : console.log() }\n          <Header as='h1' dividing>Checkout</Header>\n          <Row>\n            <Col style={{textAlign: 'left', fontWeight: 'bold', fontSize: '130%'}} xs={6} sm={6} md={6} lg={6}>\n              Total: ${this.props.cart.reduce(reducer, 0)}\n            </Col>\n            <Col style={{textAlign: 'right', fontWeight: 'bold', fontSize: '130%'}} xs={6} sm={6} md={6} lg={6}>\n              Item Count: {this.props.cart.reduce(reducer2, 0)}\n            </Col>\n          </Row>\n          <RenderProductsForCheckout/>\n          {this.props.cart.length === 0 ? <><br /><Header as='h1'>You don't have any item in your cart... <Link to='/' style={{color: '#000000'}}><u>Would you like to browse around limitless design?</u></Link></Header><br /></> : console.log()}\n          <Divider />\n          {/* Checkout Form */}\n          <CheckoutForm isNameFormCompleted={this.state.isNameFormCompleted} isEmailFormCompleted={this.state.isEmailFormCompleted} handleChange={this.handleChange} handleName={this.handleNameInputChange} handleEmail={this.handleEmailInputChange} total={this.props.cart.reduce(reducer, 0)} itemCount={this.props.cart.reduce(reducer2, 0)} submit={this.submit}/>\n        </Container>\n      )\n    } else {\n      return(\n        <>\n        </>\n      )\n    }\n  }\n}\n\nconst mapStateToProps = (state, ownProps) => {\n  return {\n    cart: state.cartAndWishlist.cart,\n    user: state.user\n  }\n}\n\nconst mapDispatchToProps = (dispatch, mergeProps) => {\n  return {\n      cleanCart: (address) => {\n        dispatch({\n          type: 'CLEAN_CART',\n        })\n    }\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(injectStripe(Checkout));\n","class WishlistService {\n  constructor(component) {\n    this.component = component\n    this.workingURL = 'https://immense-garden-92266.herokuapp.com'\n    // this.workingURL = 'http://localhost:3000'\n  }\n\n  needToLogin = () => this.component.state.added ? this.component.setState({added: {visible: true, needToLogin: true}}) : console.log()\n\n  addProductToWishlist = (productId, token) => {\n    fetch(`${this.workingURL}/wish_lists`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: token,\n        Accept: 'application/json'\n      }, body: JSON.stringify({\n        product_id: productId\n      })\n    })\n    .then(r => r.json())\n    .then(response => {\n      this.component.props.addProductToWishlist(response)\n      this.component.state.added ? this.component.setState({added: {visible: true, type: 'wishlist', action: 'added to'}}) : console.log()\n    })\n  }\n\n}\n\nexport default WishlistService;\n","import React from 'react';\nimport { Message } from 'semantic-ui-react';\nimport posed, { PoseGroup } from 'react-pose';\n\n// const AlertCover = posed.div({\n//   enter: {\n//     y: 0,\n//     opacity: 1,\n//     delay: 300,\n//     transition: {\n//       opacity: { ease: 'easeOut', duration: 300 },\n//       default: { ease: 'linear', duration: 500 }\n//     }\n//   },\n//   exit: {\n//     y: 50,\n//     opacity: 0,\n//     transition: { duration: 500 }\n//   }\n// });\n\nexport default class Alert extends React.Component {\n  constructor () {\n    super();\n    this.state = {\n      timer: 2\n    }\n  }\n\n  componentDidMount () {\n    this.interval = setInterval(this.decreaseTimer, 1000)\n  }\n\n  decreaseTimer = () => {\n    if(this.state.timer !== 0){\n      this.setState({timer: this.state.timer - 1})\n    } else {\n      this.props.closeAlert()\n    }\n  }\n\n  componentWillUnmount () {\n    this.props.added.needToLogin ? this.props.changeNeedToLogin() : console.log()\n    clearInterval(this.interval)\n  }\n\n  render () {\n    if(this.props.added.needToLogin){\n      return (<Message.Header style={{textAlign: 'center', backgroundColor: '#000000', color: '#fff'}}>you need to sign in or sign up :)</Message.Header>)\n    } else {\n      return (<Message.Header style={{textAlign: 'center', backgroundColor: '#000000', color: '#fff'}}>{this.props.added.action} your {this.props.added.type}!</Message.Header>)\n    }\n  }\n}\n","import React from 'react';\nimport CartAndWishlistService from '../services/CartAndWishlistService.js';\nimport WishlistService from '../services/WishlistService.js';\nimport CartService from '../services/CartService.js';\nimport posed, { PoseGroup } from 'react-pose';\nimport ReactImageFallback from \"react-image-fallback\";\nimport Alert from './Alert.js'\nimport { Link } from 'react-router-dom';\nimport { Card, Image, Icon, Label } from 'semantic-ui-react';\nimport { Col, Row } from 'react-bootstrap';\nimport { connect } from 'react-redux';\n\nconst Box = posed.div({\n  hoverable: true,\n  pressable: true,\n   init: {\n    scale: 1,\n    boxShadow: '0px 0px 0px rgba(0,0,0,0)'\n  }, hover: {\n    opacity: 1,\n    scale: 1.02,\n    boxShadow: '0px 5px 10px rgba(0,0,0,0.2)'\n  }, press: {\n    scale: 1,\n    boxShadow: '0px 2px 5px rgba(0,0,0,0.1)'\n  }\n});\n\nlet cartProductIds2 = []\nlet wishlistProductIds2 = []\n\nconst DetailsOnBox = posed.div({\n  init: {\n    scale: 1,\n    opacity: 0,\n  }, hover: {\n    opacity: 0.89,\n    scale: 1,\n  }\n});\n\nclass ProductCardComponent extends React.Component {\n  constructor () {\n    super();\n    this.state = {\n      isVisible: false,\n      added: {visible: false, type: 'cart', action: 'added', needToLogin: false},\n      timer: 2\n    }\n    this.cartAndWishlistService = new CartAndWishlistService(this)\n    this.wishlistService = new WishlistService(this)\n    this.cartService = new CartService(this)\n\n  }\n\n  componentDidMount(){\n    this.setState({isVisible: !this.state.isVisible})\n  }\n\n  handleWishlistClick = (product) => {\n    let wishlistProductIds = []\n    if(this.props.wishlist){\n      wishlistProductIds = this.props.wishlist.map(object => object.product.id)\n      if(wishlistProductIds.includes(product.id)){\n        this.cartAndWishlistService.discardProductFromWishlist(this.props.user.token, product.id)\n      } else {\n        this.wishlistService.addProductToWishlist(product.id, this.props.user.token)\n      }\n    } else {\n      this.wishlistService.needToLogin()\n    }\n  }\n\n  handleCartClick = (product) => {\n    let cartProductIds = []\n    if(this.props.cart){\n      cartProductIds = this.props.cart.map(object => object.product.id)\n      if(cartProductIds.includes(product.id)){\n        // discard the product from cart\n        this.cartAndWishlistService.discardProductFromCart(this.props.user.token, product.id)\n      } else {\n        // add product to cart\n        this.cartService.addProductToCart(product.id, this.props.user.token)\n      }\n    } else {\n      this.cartService.needToLogin()\n    }\n  }\n\n  changeNeedToLogin = () => this.setState({added: {...this.state.added, needToLogin: false}})\n  closeAlert = () => this.setState({added: {...this.state.added, visible: false}})\n\n  render(){\n    this.props.cart !== [] && this.props.cart ? cartProductIds2 = this.props.cart.map(object => object.product.id) : cartProductIds2 = []\n    this.props.wishlist !== [] && this.props.wishlist ? wishlistProductIds2 = this.props.wishlist.map(object => object.product.id) : wishlistProductIds2 = []\n    const { isVisible } = this.state\n      return(\n          <PoseGroup>\n            {isVisible && (\n                <Box key='box' className='box' style={{position: 'relative'}}>\n                  <Card>\n                    <Link to={`/products/${this.props.product.id}`} >\n                      {/*<Image src={this.props.imgUrl} style={{borderBottomLeftRadius: 10, borderBottomRightRadius: 4}} wrapped />*/}\n                        <ReactImageFallback\n                          src={this.props.imgUrl}\n                          style={{borderBottomLeftRadius: 10, borderBottomRightRadius: 4}} \n                          fallbackImage=\"/images/404-image-not-found-f31.jpg\"\n                          initialImage=\"/images/loader.gif\"\n                          alt=\"Loading...\"\n                          className=\"ui image\" />\n                    </Link>\n                    {/* Product List Price Goes In This Section */}\n                    <DetailsOnBox style={{position: 'absolute', top: '50%', width: '100%'}}>\n                      { this.state.added.visible ? <Alert added={this.state.added} changeNeedToLogin={this.changeNeedToLogin} closeAlert={this.closeAlert}/> : null}\n                    </DetailsOnBox>\n                    <DetailsOnBox>\n                      <Label corner='left' color='black' onClick={() => this.handleWishlistClick(this.props.product)}>\n                        <Icon name='heart' color={wishlistProductIds2.includes(this.props.product.id) ? 'red' : null}/>\n                      </Label>\n                    </DetailsOnBox>\n                    <DetailsOnBox>\n                      <Label corner='right' color='black' onClick={() => this.handleCartClick(this.props.product)}>\n                        <Icon name='shopping cart' color={cartProductIds2.includes(this.props.product.id) ? 'yellow' : null}/>\n                      </Label>\n                    </DetailsOnBox>\n                    <DetailsOnBox style={{position: 'absolute', bottom: 0, width: '100%'}}>\n                        <Card.Header style={{borderBottomLeftRadius: 4, borderBottomRightRadius: 4, backgroundColor: '#000000'}}>\n                          <Row>\n                            <Col style={{color: '#fff', fontWeight: 'bold', textAlign: 'center'}}>\n                              {this.props.product.list_price}\n                            </Col>\n                          </Row>\n                        </Card.Header>\n                    </DetailsOnBox>\n                  </Card>\n                </Box>\n            )}\n          </PoseGroup>\n      )\n    }\n  }\n\n  const mapStateToProps = (state, ownProps) => {\n    return {\n      user: state.user,\n      cart: state.cartAndWishlist.cart,\n      wishlist: state.cartAndWishlist.wishlist\n    }\n  }\n\n  const mapDispatchToProps = (dispatch, mergeProps) => {\n      return {\n        addProductToWishlist: (newProduct) => {\n          dispatch({\n            type: 'ADD_PRODUCT_TO_WISHLIST',\n            newProduct: newProduct\n          })\n      }, addProductToCart: (newProduct) => {\n        dispatch({\n          type: 'ADD_PRODUCT_TO_CART',\n          newProduct: newProduct\n        })\n      }, changeQuantityOnCart: (newProduct) => {\n        dispatch({\n          type: 'CHANGE_QUANTITY_ON_CART',\n          newProduct: newProduct\n        })\n      }, discardProductFromCart: (newCart) => {\n        dispatch({\n          type: 'DISCARD_PRODUCT_FROM_CARD',\n          newCart: newCart\n        })\n      }, discardProductFromWishlist: (newWishlist) => {\n        dispatch({\n          type: 'DISCARD_PRODUCT_FROM_WISHLIST',\n          newWishlist: newWishlist\n        })\n      }\n    }\n  }\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ProductCardComponent);\n","import React from 'react';\nimport ProductCardComponent from '../sub-components/ProductCardComponent.js'\nimport { Container, Row, Col } from 'react-bootstrap';\nimport { Header } from 'semantic-ui-react';\nimport { Widget } from 'react-chat-widget';\nimport { connect } from 'react-redux';\n\n\nimport 'react-chat-widget/lib/styles.css';\n\n\n\nconst renderCards = products => (\n      products.map(product => (\n      <Col xs={6} md={4} lg={3} className='mx-auto' key={`product-${product.id}`} style={{ marginBottom: 23 }}>\n        <ProductCardComponent key={product.id} displayName={product.display_name} product={product} imgUrl={product.images[0].front_url} />\n      </Col>\n    ))\n)\n\nclass ProductIndex extends React.Component {\n  constructor () {\n    super();\n    this.state = {\n      limit: 32\n    }\n  }\n\n  addMoreProducts = () => {\n      localStorage.limit = this.state.limit + 31\n      fetch(`http://localhost:3000/products?start=${this.state.limit}&limit=${this.state.limit + 32}`)\n      .then(r => r.json())\n      .then(response => this.props.addMoreProducts(response))\n      this.setState({limit: this.state.limit + 32})\n  }\n\n  render(){\n    return(\n      <Container style={{marginTop: 50, marginBottom: 100}}>\n        <Row>\n          {renderCards(this.props.products.flat())}\n        </Row>\n        {/* <Header as='h2' onClick={this.addMoreProducts} style={{textAlign: 'center', marginBottom: 100}}>See More...</Header> */}\n      </Container>\n    )\n  }\n}\n\nconst mapStateToProps = (state, ownProps) => {\n  return {\n    products: state.products\n  }\n}\n\nconst mapDispatchToProps = (dispatch, mergeProps) => {\n    return {\n      addMoreProducts: (products) => {\n        dispatch({\n          type: 'ADD_PRODUCTS',\n          products: products\n        })\n    }\n  }\n}\n\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ProductIndex);\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { Container, Row, Col, Carousel } from 'react-bootstrap';\nimport { Dimmer, Header, Divider, Loader, Icon, Card, Image, Button } from 'semantic-ui-react';\nimport ReactHtmlParser from 'react-html-parser';\nimport CartService from '../services/CartService.js';\nimport WishlistService from '../services/WishlistService.js';\nimport CartAndWishlistService from '../services/CartAndWishlistService.js';\nimport ProductCardComponent from '../sub-components/ProductCardComponent.js';\nimport ReactImageFallback from \"react-image-fallback\";\n\n\n\nvar imageExists = require('image-exists')\n\nconst renderCards = (products, comp) => (\n      products.map(product => (\n      <Col xs={6} sm={6} md={2} lg={2} className='mx-auto' key={`product-${product.id}`} style={{ marginBottom: 23 }}>\n        <ProductCardComponent key={product.id} displayName={product.display_name} product={product} imgUrl={product.images[0].front_url} />\n      </Col>\n    ))\n)\n\nclass ProductShow extends React.Component {\n  constructor (props) {\n    super(props);\n    this.state = {\n      product: this.props.product ? this.props.product : {},\n      carouselItems: [],\n      youMightAlsoLikeProducts: props.youMightAlsoLikeProducts\n    }\n    this.cartService = new CartService(this);\n    this.wishlistService = new WishlistService(this);\n    this.cartAndWishlistService = new CartAndWishlistService(this);\n  }\n\n  handleCartClick = () => {\n    if(this.props.user.token === undefined){\n      this.props.openModal(true)\n    } else {\n      let cartProductIds = []\n      this.props.cart ?  cartProductIds = this.props.cart.map(object => object.product.id) : console.log()\n      if(cartProductIds.includes(this.props.product.id)){\n        this.cartAndWishlistService.discardProductFromCart(this.props.user.token, this.props.product.id)\n      } else {\n        this.cartService.addProductToCart(this.props.product.id, this.props.user.token)\n      }\n    }\n  }\n\n  handleWishlistClick = () => {\n    if(this.props.user.token === undefined){\n      this.props.openModal(true)\n    } else {\n      let wishlistProductIds = []\n      this.props.wishlist ?  wishlistProductIds = this.props.wishlist.map(object => object.product.id) : console.log()\n      if(wishlistProductIds.includes(this.props.product.id)){\n        this.cartAndWishlistService.discardProductFromWishlist(this.props.user.token, this.props.product.id)\n      } else {\n        this.wishlistService.addProductToWishlist(this.props.product.id, this.props.user.token)\n      }\n    }\n  }\n\n  render () {\n    let cartProductIds = []\n    let wishlistProductIds2 = []\n    this.props.wishlist ?  wishlistProductIds2 = this.props.wishlist.map(object => object.product.id) : console.log()\n    this.props.cart ?  cartProductIds = this.props.cart.map(object => object.product.id) : console.log()\n    const product = this.props.product\n      return(\n        <Container style={{marginTop: 40, marginBottom: 100}}>\n          <Row>\n            <Col xs={12} sm={12} md={4} lg={4}>\n              {/* Carousel START */}\n                <Carousel>\n                  {this.props.carouselItems === undefined ? [] : this.props.carouselItems}\n                </Carousel>\n              {/* Carousel END */}\n              <h5 style={{fontWeight: 'bold', textAlign: 'center', marginTop: 10, maxWidth: \"750px\"}}>\n                {product.display_name}\n                <Icon name='heart' onClick={() => this.handleWishlistClick()} style={{marginLeft: 4}} color={wishlistProductIds2.includes(product.id) ? 'red' : 'grey'}/>\n              </h5>\n              <Divider />\n              <Row style={{justifyContent: 'space-between'}}>\n                <Col style={{marginTop: 7}} xs={2} sm={2} md={2} lg={2}>\n                  <h6 style={{fontWeight: 'bold'}}>{product.list_price}</h6>\n                </Col>\n                <Col style={{textAlign: 'center', }} xs={10} sm={10} md={10} lg={10}>\n                  <Button fluid size='tiny' onClick={() => this.handleCartClick()}>\n                     <Icon style={{fontSize: '1.1em'}} name='shopping cart'/>{cartProductIds.includes(product.id) ?  'Already On Cart' : 'Add To Cart'}\n                   </Button>\n                </Col>\n              </Row>\n            </Col>\n            <Col style={{marginTop: 5}} xs={12} sm={12} md={6} lg={6}>\n              <Row>\n                <Col xs={12} sm={12} md={12} lg={12}>\n                  { ReactHtmlParser(product.description) }\n                </Col>\n                <Col xs={12} sm={12} md={12} lg={12} style={{marginBottom: 10}}>\n                  <table className=\"sizechart ws_100 txc b_gray\">\n                      <tbody><tr style={{backgroundColor: '#000000', color: '#fff'}}>\n                          <td colSpan=\"2\" style={{border: '1px solid white'}}>Size</td>\n                          <td style={{border: '1px solid white'}}>Bust</td>\n                          <td style={{border: '1px solid white'}}>Waist</td>\n                          <td style={{border: '1px solid white'}}>Hips</td>\n                      </tr>\n                      <tr>\n                          <td style={{border: '1px solid #ddd'}}>XS</td>\n                          <td style={{border: '1px solid #ddd'}}>1</td>\n                          <td style={{border: '1px solid #ddd'}}>32</td>\n                          <td style={{border: '1px solid #ddd'}}>24-25</td>\n                          <td style={{border: '1px solid #ddd'}}>33-34</td>\n                      </tr>\n                      <tr style={{backgroundColor: '#f3f3f3'}}>\n                          <td style={{border: '1px solid #ddd'}}>S</td>\n                          <td style={{border: '1px solid #ddd'}}>3/5</td>\n                          <td style={{border: '1px solid #ddd'}}>34-35</td>\n                          <td style={{border: '1px solid #ddd'}}>26-27</td>\n                          <td style={{border: '1px solid #ddd'}}>35-36</td>\n                      </tr>\n                      <tr>\n                          <td style={{border: '1px solid #ddd'}}>M</td>\n                          <td style={{border: '1px solid #ddd'}}>7/9</td>\n                          <td style={{border: '1px solid #ddd'}}>36-37</td>\n                          <td style={{border: '1px solid #ddd'}}>28-29</td>\n                          <td style={{border: '1px solid #ddd'}}>38-40</td>\n                      </tr>\n                      <tr style={{backgroundColor: '#f3f3f3'}}>\n                          <td style={{border: '1px solid #ddd'}}>L</td>\n                          <td style={{border: '1px solid #ddd'}}>11</td>\n                          <td style={{border: '1px solid #ddd'}}>38-39</td>\n                          <td style={{border: '1px solid #ddd'}}>30-31</td>\n                          <td style={{border: '1px solid #ddd'}}>42-44</td>\n                      </tr>\n                      <tr>\n                          <td style={{border: '1px solid #ddd'}}>XL</td>\n                          <td style={{border: '1px solid #ddd'}}>13</td>\n                          <td style={{border: '1px solid #ddd'}}>40-41</td>\n                          <td style={{border: '1px solid #ddd'}}>32-33</td>\n                          <td style={{border: '1px solid #ddd'}}>45-47</td>\n                      </tr>\n                  </tbody></table>\n                <div className=\"d_content\" style={{marginTop: 3}}><p>- Please Indicate Your Size From Cart. Default is Medium(M).</p></div>\n                </Col>\n              </Row>\n            </Col>\n            <Col xs={12} sm={3} md={2} lg={2}>\n              <Row>\n                <Col style={{textAlign: 'left', paddingLeft: 0}} xs={6} sm={12} md={4} lg={12}>\n                  Shipping Fee: {product.shipping_fee}\n                </Col>\n                <Col style={{textAlign: 'left', paddingLeft: 0}} xs={6} sm={6} md={12} lg={12}>\n                  Student Deal: {product.student_deal ? 'Yes' : 'No'}\n                </Col>\n              </Row>\n            </Col>\n          </Row>\n            <Divider horizontal>You Might Also Like</Divider>\n          <Row style={{marginBottom: 150}}>\n            {renderCards(this.state.youMightAlsoLikeProducts, this)}\n          </Row>\n        </Container>\n      )\n  }\n}\n\nfunction carouselItemGenerator(product){\n  let newItems = []\n  for (const productImages in product.images[0]) {\n    if (productImages.normalize().includes('url') &&  !productImages.normalize().includes('small')) {\n    // imageExists(product.images[0][productImages], (exists) => {\n    // <Image style={{borderRadius: \"20px\", border: '2px solid #e0e1e2'}} src={product.images[0][productImages]} />\n        if(true){\n            newItems = [...newItems, (<Carousel.Item active={productImages.normalize().includes('front') ? true : false} key={`carouselItem-${product.images[0][productImages]}`}>\n                                        <ReactImageFallback\n                                          src={product.images[0][productImages]}\n                                          fallbackImage=\"/images/404-image-not-found-f31.jpg\"\n                                          initialImage=\"/images/loader.gif\"\n                                          alt=\"Loading...\"\n                                          className=\"ui image\" />\n                                      </Carousel.Item>)]\n        } else {\n          return null;\n        }\n      // })\n    }\n  }\n  return newItems;\n}\n\nfunction randomProductGenerator(products, productId, product = {}){\n  let choosedProducts = []\n  let ids = []\n  if(product === {}){\n    ids = [products.find(product => product.id == productId).id]\n  } else {\n    ids = [product.id]\n  }\n  for(let i = 0; i < 6; i++){\n    let rand = Math.floor(Math.random() * Math.floor(products.length))\n    if(ids.includes(products[rand].id)){\n      i -= 1\n    } else {\n      ids.push(products[rand].id)\n      choosedProducts.push(products[rand])\n    }\n\n    // products2.splice(rand, 1)\n  }\n  return choosedProducts;\n}\n\nconst request = async (products, id) => {\n  const productIds =  await products.map(el => el.id)\n  if(!productIds.includes(id)){\n    const response = await fetch(`http://localhost:3000/products/${id}`)\n    const json = await response.json()\n    return json\n  } else {\n    const json = await products.find(product => product.id === id)\n  }\n}\n\nconst mapStateToProps = (state, ownProps) => {\n  // fetching the product from the state for show page\n  const productId = ownProps.match.params.id\n  let product = state.products.find(product => product.id == productId)\n  return {\n    user: state.user,\n    cart: state.cartAndWishlist.cart,\n    wishlist: state.cartAndWishlist.wishlist,\n    product: product,\n    products: state.products,\n    carouselItems: carouselItemGenerator(product),\n    youMightAlsoLikeProducts: randomProductGenerator(state.products, productId, product)\n  }\n}\n\nconst mapDispatchToProps = (dispatch, mergeProps) => {\n    return {\n      addProductToWishlist: (newProduct) => {\n        dispatch({\n          type: 'ADD_PRODUCT_TO_WISHLIST',\n          newProduct: newProduct\n        })\n    }, addProductToCart: (newProduct) => {\n      dispatch({\n        type: 'ADD_PRODUCT_TO_CART',\n        newProduct: newProduct\n      })\n    }, discardProductFromCart: (newCart) => {\n      dispatch({\n        type: 'DISCARD_PRODUCT_FROM_CARD',\n        newCart: newCart\n      })\n    }, discardProductFromWishlist: (newWishlist) => {\n      dispatch({\n        type: 'DISCARD_PRODUCT_FROM_WISHLIST',\n        newWishlist: newWishlist\n      })\n    }\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ProductShow);\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { Header, Message } from 'semantic-ui-react';\nimport { Row, Col } from 'react-bootstrap';\nimport { Icon, Loader, Input, Button } from 'semantic-ui-react';\nimport UserService from '../../services/UserService.js';\nimport CartAndWishlistService from '../../services/CartAndWishlistService.js';\n\nclass RenderSign extends React.Component {\n  constructor () {\n    super();\n    this.state = {\n      signUp: false,\n      username: \"\",\n      password: \"\",\n      passwordConfirmation: \"\",\n      errors: [],\n      loading: false,\n      passwordMatch: false,\n      usernames: [],\n      uniqueUsername: true,\n    }\n    this.userService = new UserService(this)\n    this.cartAndWishlistService = new CartAndWishlistService(this)\n  }\n\n  componentDidMount () {\n    this.userService.getAllUserNames()\n  }\n\n  renderPasswordConfirmation = () => {\n    if(this.state.signUp){\n      return (\n        <Row className='justify-content-center' style={{marginTop: 5}}>\n          <Input style={{width: '65%'}} error={!this.state.passwordMatch} iconPosition='left' type='password' placeholder='Password Confirmation'>\n            <Icon name='key' loading={true}/>\n            <input onChange={text => this.handleChangeOnConfirmation(text)}/>\n          </Input>\n        </Row>\n      )\n    }\n  }\n\n  handleChangeOnUsername = (text) => {\n    this.setState({username: text.target.value}, () => (\n      this.state.usernames.includes(this.state.username) ? this.setState({uniqueUsername: false}) : this.setState({uniqueUsername: true})\n    ))\n  }\n\n  handleChangeOnConfirmation = (text) => {\n    // checking if password and password confirmation does match\n    this.setState({passwordConfirmation: text.target.value}, () => (\n      this.state.password !== this.state.passwordConfirmation ? this.setState({passwordMatch: false}) : this.setState({passwordMatch: true})\n    ))\n  }\n\n// signing in or signing up => more details in src/services/UserService.js\n  handleSubmit = () => {\n    const state = this.state\n    if(!state.signUp){\n      const user = {\n        username: state.username,\n        password: state.password\n      }\n      this.setState({loading: true})\n      this.userService.login(user)\n    } else {\n      const user = {\n        username: state.username,\n        password: state.password,\n        password_confirmation: state.passwordConfirmation\n      }\n      this.setState({loading: true})\n      this.userService.signUp(user)\n    }\n  }\n\n  render () {\n    return (\n      <>\n      <Header as='h2' style={{color: '#fff', marginTop: 5}}>\n        {this.state.signUp ? 'Sign Up' : 'Sign In'} or <span onClick={() => this.setState({signUp: !this.state.signUp})}><u>{!this.state.signUp ? 'Sign Up' : 'Sign In'}</u></span>\n        {this.state.loading ? <Loader active inline style={{marginLeft: 10}} /> : null}\n      </Header>\n      <Row className='justify-content-center'>\n        {this.state.errors.length !== 0 ? <Message color='red' list={this.state.errors} header='oops, something went wrong!'/> : null }\n        {/* USERNAME FIELD */}\n        <Input style={{width: '65%'}} error={!this.state.uniqueUsername} iconPosition='left' placeholder='Email'>\n          <Icon name='at' />\n          <input onChange={text => this.handleChangeOnUsername(text)} />\n        </Input>\n      </Row>\n      <Row className='justify-content-center' style={{marginTop: 5}}>\n        {/* PASSWORD FIELD */}\n        <Input style={{width: '65%'}} iconPosition='left' type='password' placeholder='Password'>\n          <Icon name='key' />\n          <input onChange={text => this.setState({password: text.target.value})} />\n        </Input>\n      </Row>\n      {this.renderPasswordConfirmation()}\n      <Row style={{marginTop: 5}}>\n        <Col sm={7}>\n        </Col>\n        <Col sm={4}>\n        <Button onClick={() => this.handleSubmit()} basic inverted>\n          {this.state.signUp ? 'Sign Up!' : 'Sign In!'}\n        </Button>\n        </Col>\n        <Col sm={1}>\n        </Col>\n      </Row>\n      </>\n    )\n  }\n}\n\nconst mapDispatchToProps = (dispatch, mergeProps) => {\n    return {\n      addUserAuth: (user) => {\n        dispatch({\n          type: 'ADD_USER_AUTH',\n          user: user\n        })\n    }, addCartAndWishlist: (cartAndWishlist) => {\n      dispatch({\n        type: 'ADD_CART_AND_WISHLIST',\n        cartAndWishlist: cartAndWishlist\n      })\n    }, addAddress: (address) => {\n      dispatch({\n        type: 'ADD_ADDRESS',\n        address: address\n      })\n    }\n  }\n}\n\nexport default connect(undefined, mapDispatchToProps)(RenderSign);\n","import React from 'react';\nimport CartAndWishlistService from '../../services/CartAndWishlistService.js';\nimport CartService from '../../services/CartService.js';\nimport { connect } from 'react-redux';\nimport { Row, Col } from 'react-bootstrap';\nimport { Card, Icon, Button } from 'semantic-ui-react';\n\nclass RenderProduct extends React.Component {\n  constructor (props) {\n    super (props);\n    this.state = {\n    }\n    this.cartAndWishlistService = new CartAndWishlistService(this)\n    this.cartService = new CartService(this)\n  }\n\n\n  discardProductFromCart = (productId) => this.cartAndWishlistService.discardProductFromCart(this.props.user.token, productId)\n\n  handleDecreasingQuantity = (product, token, minus) => {\n    if(this.props.quantity === 1){\n      return this.discardProductFromCart(product.id)\n    }\n    return this.cartService.changeQuantityOnCart(product, token, minus)\n  }\n\n  render () {\n    const product = this.props.product\n    return (\n        <>\n          <Row>\n            <Col xs={3} sm={3} md={3}>\n              <Card style={{width: '70px', height: '105px', marginRight: 5}} fluid image={this.props.productImages.front_url}/>\n            </Col>\n            <Col xs={7} sm={7} md={8} className='mx-auto'>\n              <Row>\n                <Col xs={12} md={12} sm={12} lg={12}>\n                  <span style={{color: '#fff'}}>{product.display_name}</span>\n                </Col>\n                <Col style={{fontSize: '90%', textAlign: 'left'}} xs={6} md={6} sm={6} lg={6}>\n                  {product.on_sale ? (<><Icon style={{color: '#fff'}} size='small' name='tag' /><span style={{color: '#fff'}}>On Sale!</span></>) : null}\n                </Col>\n                <Col style={{fontSize: '90%', textAlign: 'right'}} xs={6} md={6} sm={6} lg={6}>\n                  <p style={{color: '#fff'}}>{product.list_price}</p>\n                </Col>\n              </Row>\n              <Row style={{marginTop: 5}}>\n                <Col xs={6} sm={6} md={6} lg={6}>\n                  <Row>\n                    <Col id=\"stupid-button\" xs={4} sm={4} md={4} lg={4}>\n                      <Button size='mini' active={this.props.size === 'S' ? true : false} style={{fontWeigt: 'bold', padding: '10px'}} inverted onClick={() => this.cartService.changeSizeForProduct(this.props.product, this.props.user.token, \"S\")}>S</Button>\n                    </Col>\n                    <Col id=\"stupid-button\" xs={4} sm={4} md={4} lg={4}>\n                      <Button size='mini' active={this.props.size === 'M' ? true : false} style={{fontWeigt: 'bold', padding: '10px'}} inverted onClick={() => this.cartService.changeSizeForProduct(this.props.product, this.props.user.token, \"M\")}>M</Button>\n                    </Col>\n                    <Col id=\"stupid-button\" xs={4} sm={4} md={4} lg={4}>\n                      <Button size='mini' active={this.props.size === 'L' ? true : false} style={{fontWeigt: 'bold', marginLeft: 5, padding: '10px'}} inverted onClick={() => this.cartService.changeSizeForProduct(this.props.product, this.props.user.token, \"L\")}>L</Button>\n                    </Col>\n                  </Row>\n                </Col>\n                <Col xs={6} sm={6} md={6} lg={6} style={{color: '#fff'}}>\n                  quantity: {this.props.quantity}\n                </Col>\n              </Row>\n            </Col>\n            <Col xs={1} sm={1} md={1}>\n              <Row style={{height: '36%'}}>\n                <Icon onClick={() => this.discardProductFromCart(product.id)} style={{color: '#fff'}} name='close' />\n              </Row>\n              <Row style={{height: '20%'}}>\n                <Icon onClick={() => this.cartService.changeQuantityOnCart(product, this.props.user.token, 'not minus')} style={{color: '#fff'}} name='plus' />\n              </Row>\n              <Row style={{height: '20%'}}>\n                <Icon onClick={() => this.handleDecreasingQuantity(product, this.props.user.token, \"minus\")} style={{color: '#fff'}} name='minus' />\n              </Row>\n            </Col>\n          </Row>\n        <br />\n      </>\n    )\n  }\n}\n\nconst mapStateToProps = (state, ownProps) => {\n  return {\n    user: state.user,\n    cart: state.cartAndWishlist.cart\n  }\n}\n\nconst mapDispatchToProps = (dispatch, mergeProps) => {\n    return {\n      discardProductFromCart: (newCart) => {\n        dispatch({\n          type: 'DISCARD_PRODUCT_FROM_CARD',\n          newCart: newCart\n        })\n    }, changeQuantityOnCart: (newProduct) => {\n      dispatch({\n        type: 'CHANGE_QUANTITY_ON_CART',\n        newProduct: newProduct\n      })\n    }, changeSizeForProduct: (newProduct) => {\n      dispatch({\n        type: 'CHANGE_SIZE_FOR_PRODUCT',\n        newProduct: newProduct\n      })\n    }\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(RenderProduct);\n","import React from 'react';\nimport CartAndWishlistService from '../../services/CartAndWishlistService.js';\nimport CartService from '../../services/CartService.js';\nimport { connect } from 'react-redux';\nimport { Row, Col } from 'react-bootstrap';\nimport { Card, Icon } from 'semantic-ui-react';\n\nlet cartProductIds = []\n\nclass RenderProduct extends React.Component {\n  constructor (props) {\n    super (props);\n    this.state = {\n    }\n    this.cartAndWishlistService = new CartAndWishlistService(this)\n    this.cartService = new CartService(this)\n  }\n\n  discardProductFromWishlist = (productId) => this.cartAndWishlistService.discardProductFromWishlist(this.props.user.token, productId)\n\n  render () {\n    const product = this.props.product\n    this.props.cart ? cartProductIds = this.props.cart.map(object => object.product.id) : cartProductIds = []\n    return (\n        <>\n          <Row>\n            <Col xs={3} sm={3} md={3}>\n              <Card style={{width: '70px', height: '105px', marginRight: 5}} fluid image={this.props.productImages.front_url}/>\n            </Col>\n            <Col xs={7} sm={7} md={8} className='mx-auto'>\n              <Row>\n                <Col sm={12} lg={12}>\n                  <span style={{color: '#fff'}}>{product.display_name}</span>\n                </Col>\n                <Col style={{textAlign: 'left'}} sm={6} lg={6}>\n                  {product.on_sale ? (<><Icon style={{color: '#fff'}} size='small' name='tag' /><span style={{color: '#fff'}}>On Sale!</span></>) : null}\n                </Col>\n                <Col style={{textAlign: 'right'}} sm={6} lg={6}>\n                  <p style={{color: '#fff'}}>{product.list_price}</p>\n                </Col>\n              </Row>\n              <Row>\n                <Col style={{textAlign: 'left'}} onClick={cartProductIds.includes(product.id) ? () => {} : () => this.cartService.addProductToCart(product.id, this.props.user.token)} sm={8}>\n                  <Icon size='small' style={{color: '#fff'}} name='shopping cart'/><span style={{color: '#fff',marginLeft: 1}}>{cartProductIds.includes(product.id) ? 'Already on Cart' : 'Add To Cart'}</span>\n                </Col>\n                <Col sm={4}>\n                </Col>\n              </Row>\n            </Col>\n            <Col xs={1} sm={1} md={1}>\n              <Icon onClick={() => this.discardProductFromWishlist(product.id)} style={{color: '#fff'}} name='close' />\n            </Col>\n          </Row>\n        <br />\n      </>\n    )\n  }\n}\n\nconst mapStateToProps = (state, ownProps) => {\n  return {\n    user: state.user,\n    wishlist: state.cartAndWishlist.wishlist,\n    cart: state.cartAndWishlist.cart\n  }\n}\n\nconst mapDispatchToProps = (dispatch, mergeProps) => {\n    return {\n      discardProductFromWishlist: (newWishlist) => {\n        dispatch({\n          type: 'DISCARD_PRODUCT_FROM_WISHLIST',\n          newWishlist: newWishlist\n        })\n    }, addProductToCart: (newProduct) => {\n      dispatch({\n        type: 'ADD_PRODUCT_TO_CART',\n        newProduct: newProduct\n      })\n    }\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(RenderProduct);\n","import React from 'react';\nimport RenderSign from '../sub-components/sidebar/RenderSign.js';\nimport RenderProduct from '../sub-components/sidebar/RenderProduct.js';\nimport RenderProductForWishlist from '../sub-components/sidebar/RenderProductForWishlist.js';\nimport { connect } from 'react-redux';\nimport { Header } from 'semantic-ui-react'\nimport { Row, Col, Container } from 'react-bootstrap';\nimport { Icon, Divider } from 'semantic-ui-react';\nimport { Link } from 'react-router-dom';\n\n\nconst mapStateToProps = (state, ownProps) => {\n  return {\n    products: state.products,\n    user: state.user,\n    cart: state.cartAndWishlist.cart,\n    wishlist: state.cartAndWishlist.wishlist\n  }\n}\n\n// reducers for cart's total and item count\nconst reducer = (accumulator, currentValue) => accumulator + (parseInt(currentValue.quantity) * parseInt(currentValue.product.list_price.replace('$', '')));\nconst reducer2 = (accumulator, currentValue) => accumulator + (currentValue.quantity)\n// reducer for wishlist's total\nconst reducer3 = (accumulator, currentValue) => accumulator + parseInt(currentValue.product.list_price.replace('$', ''));\n\nclass SideBarContent extends React.Component {\n  constructor () {\n    super();\n    this.state = {\n\n    }\n  }\n\n// render cart for logged in user\n  renderCart = () => {\n    if(this.props.cart){\n      return(\n        <Container>\n            <Divider style={{color: '#fff', fontSize: 20, fontWeight: 'bold'}} horizontal>My F31 Cart</Divider>\n            <Row>\n              <Col>\n                <Header as='h4' style={{color: '#fff'}}>Total: ${this.props.cart.reduce(reducer, 0)}</Header>\n              </Col>\n              <Col>\n                <Header as='h4' style={{color: '#fff'}}>Item Count: {this.props.cart.reduce(reducer2, 0)}</Header>\n              </Col>\n            </Row>\n            <br />\n            {this.props.cart.length === 0 ? <Header as='h2' onClick={() => this.props.closeSideBar(false)} style={{color: \"#fff\"}}> no item ?! didn't like that... </Header> : null}\n            {this.props.cart.map(object => <RenderProduct key={object.product.id} quantity={object.quantity} size={object.size} product={object.product} productImages={object.product_images[0]} />)}\n            <Row style={{justifyContent: 'flex-end'}}>\n              <Link to=\"/checkout\">\n                <Header onClick={() => this.props.closeSideBar(false)} as='h4' style={{color: \"#fff\"}}>Proceed to Checkout</Header>\n              </Link>\n            </Row>\n        </Container>\n      )\n    }\n  }\n\n// render wishlist for logged in user\n  renderWishlist = () => {\n    if(this.props.wishlist){\n      return(\n        <Container>\n          <Divider style={{color: '#fff', fontSize: 20, fontWeight: 'bold'}} horizontal>My F31 wishlist</Divider>\n          <Row>\n            <Col>\n              <Header as='h4' style={{color: '#fff'}}>Total: ${this.props.wishlist.reduce(reducer3, 0)}</Header>\n            </Col>\n            <Col>\n              <Header as='h4' style={{color: '#fff'}}>Item Count: {this.props.wishlist.length}</Header>\n            </Col>\n          </Row>\n          <br />\n          {this.props.wishlist.length === 0 ? <Header as='h2' onClick={() => this.props.closeSideBar(false)} style={{color: \"#fff\"}}> who am I to judge, right? </Header> : null}\n          {this.props.wishlist.map(object => <RenderProductForWishlist key={object.product.id} product={object.product} productImages={object.product_images[0]} />)}\n        </Container>\n      )\n    }\n  }\n\n// this function renders sidebar content based on given props\n  renderContent = () => {\n    if (this.props.contentId === 0 ) {\n      return( <RenderSign closeSideBar={this.props.closeSideBar}/> )\n    } else if (this.props.contentId === 1 && this.props.user.token) {\n      return( this.renderCart() )\n    } else if (this.props.contentId === 2 && this.props.user.token) {\n      return( this.renderWishlist() )\n    }\n  }\n\n  render () {\n    return(\n      <Container>\n        <Icon name='close' size='large' onClick={() => this.props.closeSideBar(false)} style={{color: '#fff', marginTop: 5}}></Icon>\n        {this.renderContent()}\n        {/* this.renderProducts() */}\n      </Container>\n    )\n  }\n}\n\nexport default connect(mapStateToProps)(SideBarContent);\n","import React, { Component } from 'react';\nimport { Icon, Label, Search, Header, Divider } from 'semantic-ui-react';\nimport { Navbar, Nav, Row } from 'react-bootstrap';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport _ from 'lodash';\nimport PropTypes from 'prop-types';\n\nconst mapStateToProps = (state, ownProps) => {\n  return {\n    user: state.user,\n    products: state.products.map(el => {\n      return {...el, link_id: el.id}\n    }),\n    cart: state.cartAndWishlist.cart,\n    wishlist: state.cartAndWishlist.wishlist\n  }\n}\n\nconst resultRenderer = ({ display_name, link_id, list_price }) => <Link to={`/products/${link_id}`}> <Header as='h5' content={display_name} /> </Link>\nresultRenderer.propTypes = {\n  display_name: PropTypes.string,\n  id: PropTypes.string,\n}\n\nclass NavbarView extends Component {\n  constructor (props) {\n    super(props);\n    this.state = {\n      isLoading: false,\n      results: [],\n      value: \"\"\n    }\n  }\n\n  logOut = () => {\n    this.props.clearUserAuth()\n    this.props.clearCartAndWishlist()\n    localStorage.token = \"\"\n    localStorage.userId = \"\"\n    localStorage.addressLineOne = \"\"\n    localStorage.addressLineTwo = \"\"\n    localStorage.watsonSessionId = \"\"\n    localStorage.limit = \"\"\n  }\n\n  renderSigns = () => {\n    if(this.props.user.token){\n      return (\n        <Nav.Item onClick={() => this.logOut()} style={{marginLeft: 10, marginRight: 10, fontWeight: 'bold' }}>\n          Log Out\n        </Nav.Item>\n      )\n    } else {\n      return (\n        <>\n        <Nav.Item onClick={() => this.handleModal(0)} style={{marginLeft: 10, fontWeight: 'bold' }}>\n          Sign In or\n        </Nav.Item>\n        <Nav.Item onClick={() => this.handleModal(0)} style={{marginLeft: 3, marginRight: 10, fontWeight: 'bold'  }}>\n          Sign Up\n        </Nav.Item>\n        </>\n      )\n    }\n  }\n\n  handleModal = (contentId) => {\n    this.props.sendContentId(contentId)\n    this.props.openModal(true)\n  }\n\n  handleSearchChange = (e, { value }) => {\n    this.setState({ isLoading: true, value })\n    setTimeout(() => {\n      const re = new RegExp(_.escapeRegExp(this.state.value), 'i')\n      const isMatch = (result) => re.test(result.display_name)\n      this.setState({\n          isLoading: false,\n          results: _.filter(this.props.products, isMatch).slice(0,5),\n      })\n    }, 300)\n  }\n\n  render() {\n    return (\n      <>\n      <Navbar className='w-100' expand=\"lg\" fixed=\"top\" bg=\"light\">\n        <Navbar.Brand href=\"/forever-31-frontend\" className='mx-auto' style={{fontFamily: 'Indie Flower', fontWeight: 'bold', fontSize: 20}}>Forever 31</Navbar.Brand>\n        <Navbar.Toggle aria-controls=\"responsive-navbar-nav\" />\n        {/* Cart and WishList icons for opening right directioned sidebar to see Cart or WishList */}\n        <Navbar.Collapse id=\"responsive-navbar-nav\">\n          <Nav className='mx-auto'>\n            <Row className='mx-auto'>\n                <Search\n                  size=\"mini\"\n                  loading={this.state.isLoading}\n                  onResultSelect={this.handleResultSelect}\n                  onSearchChange={_.debounce(this.handleSearchChange, 500, {\n                    leading: true,\n                  })}\n                  results={this.state.results}\n                  value={this.state.value}\n                  resultRenderer={resultRenderer}\n                  {...this.props}\n                />\n            </Row>\n          </Nav>\n          <br />\n          <Nav>\n            <Row className='mx-auto'>\n              <Nav.Item>\n                <span style={{ marginLeft: 5 }} onClick={() => this.handleModal(1)}><Icon style={{fontSize: '1.1em'}} name='shopping cart'/>{this.props.cart ? `(${this.props.cart.length})` : '(0)'}</span>\n              </Nav.Item>\n              <Nav.Item>\n                <span style={{ marginLeft: 8, marginRight: 5 }} onClick={() => this.handleModal(2)}><Icon style={{fontSize: '1.1em'}} name='heart'/>{this.props.wishlist ? `(${this.props.wishlist.length})` : '(0)'}</span>\n              </Nav.Item>\n              {this.renderSigns()}\n            </Row>\n          </Nav>\n        </Navbar.Collapse>\n      </Navbar>\n      <Navbar bg=\"light\" fixed='bottom'>\n        <Nav className=\"mx-auto\">\n          <Row style={{justifyContent: \"center\"}}>\n            <a href=\"https://facebook.com/\" target=\"_blank\" rel=\"noopener noreferrer\" className=\"fa fa-facebook\">{}</a>\n            <a href=\"https://instagram.com/\" rel=\"noopener noreferrer\" target=\"_blank\" className=\"fa fa-instagram\">{}</a>\n            <a href=\"https://youtube.com/\"  rel=\"noopener noreferrer\" target=\"_blank\" className=\"fa fa-youtube\">{}</a>\n            <a href=\"https://twitter.com/\"  rel=\"noopener noreferrer\" target=\"_blank\" className=\"fa fa-twitter\">{}</a>\n            <a href=\"https://foursquare.com/\"  rel=\"noopener noreferrer\" target=\"_blank\" className=\"fa fa-foursquare\">{}</a>\n            <a href=\"https://linkedin.com/\"  rel=\"noopener noreferrer\" target=\"_blank\" className=\"fa fa-linkedin\">{}</a>\n            <a href=\"https://yahoo.com/\"  rel=\"noopener noreferrer\" target=\"_blank\" className=\"fa fa-yahoo\">{}</a>\n            <a href=\"https://reddit.com/\"  rel=\"noopener noreferrer\" target=\"_blank\" className=\"fa fa-reddit\">{}</a><br/><br/>\n          </Row>\n        </Nav>\n      </Navbar>\n      </>\n    );\n  }\n}\n\nconst mapDispatchToProps = (dispatch, mergeProps) => {\n    return {\n      clearUserAuth: () => {\n        dispatch({\n          type: 'CLEAR_USER_AUTH'\n        })\n    }, clearCartAndWishlist: () => {\n      dispatch({\n        type: 'CLEAN_CART_AND_WISHLIST'\n      })\n    }\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(NavbarView);\n","class WatsonService {\n  constructor (component) {\n    this.component = component\n    // this.workingURL = 'http://localhost:3000'\n    this.workingURL = 'https://immense-garden-92266.herokuapp.com'\n  }\n\n  sendNewUserMessage = message => {\n    fetch(`${this.workingURL}/post_input_to_watson`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        Accept: 'application/json'\n      }, body: JSON.stringify({\n        session_id: this.component.props.user.watsonSessionId,\n        input: message\n      })\n    })\n    .then(r => r.json())\n    .then(response => {\n      // debugger\n      console.log(response)\n      if(response.session_id){\n        this.component.props.addWatsonSession(response.session_id)\n        localStorage.watsonSessionId = response.session_id\n        if(response.original_response.output.generic[0].response_type === \"text\"){\n          this.component.addResponseMessage(response.original_response.output.generic[0].text)\n        } else {\n          this.component.addResponseMessage(\"Can you rephrase? I didn't understand...\")\n        }\n      } else {\n        if(response.original_response.output.generic[0].response_type === \"text\"){\n          this.component.addResponseMessage(response.original_response.output.generic[0].text)\n        } else {\n          this.component.addResponseMessage(\"Can you rephrase? I didn't understand...\")\n        }\n      }\n    })\n  }\n}\n\nexport default WatsonService;\n","import React from 'react';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport Checkout from './main-components/Checkout.js';\nimport ProductIndex from './main-components/ProductIndex.js';\nimport ProductShow from './main-components/ProductShow.js';\nimport CartAndWishlistService from './services/CartAndWishlistService.js';\nimport SideBarContent from './main-components/SideBarContent.js';\nimport NavbarView from './sub-components/NavbarView.js';\nimport { Route, Link, Switch } from 'react-router-dom';\nimport posed, { PoseGroup } from 'react-pose';\nimport { Menu, Segment, Sidebar } from 'semantic-ui-react';\nimport { StripeProvider, Elements } from 'react-stripe-elements';\nimport { Widget, addResponseMessage } from 'react-chat-widget';\nimport WatsonService from './services/WatsonService.js';\nimport { connect } from 'react-redux';\nimport { Ripple } from 'react-spinners-css';\nimport 'react-chat-widget/lib/styles.css';\n\n\nconst mapStateToProps = (state, ownProps) => {\n  return {\n    products: state.products,\n    user: state.user\n  }\n}\n\nconst RouteContainer = posed.div({\n  enter: { opacity: 1, delay: 500, beforeChildren: true },\n  exit: { opacity: 1 }\n});\n\nclass App extends React.Component {\n  constructor () {\n    super();\n    this.state = {\n      visible: false,\n      windowWidth: Math.max(document.documentElement.clientWidth, window.innerWidth || 0),\n      contentId: 0,\n      isWidgetOpen: false,\n      isLoaded: false,\n    }\n    this.cartAndWishlistService = new CartAndWishlistService(this)\n    this.watsonService = new WatsonService(this)\n    this.addResponseMessage = addResponseMessage\n  }\n\n  componentDidMount () {\n    this.addResponseMessage('Hi there! From F31 Store!')\n    if(localStorage.userId){\n      this.props.addUserAuth({token: localStorage.token, userId: localStorage.userId, address: {line_1: localStorage.addressLineOne, line_2: localStorage.addressLineTwo}})\n      this.cartAndWishlistService.fetchCartAndWishlist(localStorage.token)\n    }\n    setInterval(this.watsonService.createWatsonSession, 50000)\n  }\n\n  getContentId = (contentId) => {\n    if(this.props.user.token !== undefined){\n      return this.setState({contentId: contentId})\n    }\n    return this.setState({contentId: 0})\n  }\n\n  setVisible = bool => this.setState({visible: bool}, function(){\n    bool ? console.log() : this.setState({contentId: \"\"})\n  })\n\n  handleNewUserMessage = newMessage => {\n    this.watsonService.sendNewUserMessage(newMessage)\n  }\n\n  setLoader = () => this.setState({isLoaded: true})\n\n  loader() {\n    if(this.props.products.length !== 0) {\n      setTimeout(this.setLoader, 1000)\n    }\n  }\n\n  render(){\n    this.loader()\n    let sideBarWidth = 400\n    const { visible } = this.state\n    if(Math.max(document.documentElement.clientWidth, window.innerWidth) < 400){\n      sideBarWidth = Math.max(document.documentElement.clientWidth, window.innerWidth || 0)\n    }\n    if(this.state.isLoaded) {\n      return (\n        <>\n        <Route\n          render={({ location }) => (\n            <Sidebar.Pushable as={Segment}>\n              {/* sidebar animation is editable */}\n              <Sidebar\n                as={Menu}\n                animation='overlay'\n                direction='right'\n                icon='labeled'\n                inverted\n                onHide={() => this.setVisible(false)}\n                vertical\n                visible={visible}\n                style={{width: sideBarWidth}}\n              >\n              {/* Sidebar Content */}\n                <SideBarContent contentId={this.state.contentId} closeSideBar={this.setVisible}/>\n              </Sidebar>\n              <Sidebar.Pusher dimmed={visible}>\n                <NavbarView sendContentId={this.getContentId} openModal={this.setVisible} />\n                  <Segment style={{backgroundColor: '#fcfeff'}} basic>\n                        <Switch location={location}>\n                          <Route exact path={process.env.PUBLIC_URL + '/'} component={ProductIndex} key='index' />\n                          <Route exact path='/products/:id' render={(props) => <ProductShow {...props} openModal={this.setVisible} />} key='show' />\n                          {/* Stripe Route */}\n                          <StripeProvider apiKey=\"pk_test_YJZiIQadCitjxkefrqHysj0g00BNRtnusD\">\n                            <Elements>\n                              <Route path='/checkout' component={Checkout} key='checkout' />\n                            </Elements>\n                          </StripeProvider>\n                        </Switch>\n                  </Segment>\n              </Sidebar.Pusher>\n            </Sidebar.Pushable>\n          )}\n        />\n        <Widget\n          handleNewUserMessage={this.handleNewUserMessage}\n          subtitle={\"You can ask anything you want!\"}\n          />\n      </>\n      );\n    } else {\n      return(\n        <div style={{\n          width: \"300px\",\n\t        height: \"150px\",\n          margin: \"auto\",\n          position: \"absolute\",\n          top: 0,\n          bottom: 0,\n          left: 0,\n          right: 0,\n          textAlign: \"center\"\n        }}>\n          <span style={{fontFamily: 'Indie Flower', fontWeight: 'bold', fontSize: 20}}>Forever 31</span><br />\n          <Ripple color={\"#000000\"} />\n          <br />\n          <paragraph>Because of using free services this loading may take up to <strong>20 seconds.</strong> Thanks for your patience.</paragraph>\n        </div>\n      );\n      //render loader\n    }\n  }\n}\n\nconst mapDispatchToProps = (dispatch, mergeProps) => {\n    return {\n      addUserAuth: (user) => {\n        dispatch({\n          type: 'ADD_USER_AUTH',\n          user: user\n        })\n    }, addCartAndWishlist: (cartAndWishlist) => {\n      dispatch({\n        type: 'ADD_CART_AND_WISHLIST',\n        cartAndWishlist: cartAndWishlist\n      })\n    }, addWatsonSession: (sessionId) => {\n      dispatch({\n        type: 'ADD_WATSON_SESSION',\n        sessionId: sessionId\n      })\n    }\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\n","const initialState = []\n\nconst productReducer = (oldState = initialState, action) => {\n  // console.log(oldState)\n  // console.log(action)\n  switch (action.type) {\n    case 'POPULATE_PRODUCTS': // initializing page with 50 Product\n      return action.products;\n    case 'ADD_PRODUCTS': // adding more product\n      return oldState.concat(action.products);\n    case 'CLEAN_ALL_PRODUCTS': // cleaning all products\n      return;\n    default:\n      return oldState;\n    }\n  }\n\nexport default productReducer;\n","const initialState = []\n\nconst CartAndWishlistReducer = (oldState = initialState, action) => {\n  // debugger\n  switch (action.type) {\n    case 'ADD_CART_AND_WISHLIST': // initializing page with users cart and wishlist\n      return action.cartAndWishlist;\n    case 'CLEAN_CART':\n      return {...oldState, cart: []}\n    case 'DISCARD_PRODUCT_FROM_CARD':\n      return {...oldState, cart: action.newCart}\n    case 'DISCARD_PRODUCT_FROM_WISHLIST':\n      return {...oldState, wishlist: action.newWishlist}\n    case 'ADD_PRODUCT_TO_WISHLIST':\n      return {...oldState, wishlist: [...oldState.wishlist, action.newProduct]}\n    case 'ADD_PRODUCT_TO_CART':\n      return {...oldState, cart: [ action.newProduct, ...oldState.cart]}\n    case 'CHANGE_QUANTITY_ON_CART':\n      let newCart = oldState.cart.map(object => object.product.id === action.newProduct.product.id ? action.newProduct : object)\n      return {...oldState, cart: [...newCart]}\n    case 'CHANGE_SIZE_FOR_PRODUCT':\n      const newCart2 = oldState.cart.map(object => object.product.id === action.newProduct.product.id ? action.newProduct : object)\n      return {...oldState, cart: [...newCart2]}\n    case 'CLEAN_CART_AND_WISHLIST': // cleaning cart and wishlist\n      return {};\n    default:\n      return oldState;\n    }\n  }\n\nexport default CartAndWishlistReducer;\n","const initialState = {}\n\nconst userReducer = (oldState = initialState, action) => {\n\n  switch (action.type) {\n    case 'ADD_USER_AUTH': // adding user token and id to redux store when they log in\n      return action.user;\n    case 'ADD_ADDRESS': // adding user address when they change or create\n      return {...oldState, address: action.address}\n    case 'ADD_WATSON_SESSION': // adding user address when they change or create\n      return {...oldState, watsonSessionId: action.sessionId}\n    case 'CLEAR_USER_AUTH': // cleaning saved user token and id when they log out\n      return {}\n    default:\n      return oldState;\n    }\n  }\n\nexport default userReducer;\n","import { combineReducers } from 'redux';\nimport productReducer from './productReducer.js';\nimport CartAndWishlistReducer from './CartAndWishlistReducer.js';\nimport userReducer from './userReducer.js';\n\nconst reducer = combineReducers({\n  products: productReducer,\n  cartAndWishlist: CartAndWishlistReducer,\n  user: userReducer,\n})\n\n\nexport default reducer;\n","const productActionCreator = (newProducts) => {\n  return {\n    type: \"POPULATE_PRODUCTS\",\n    products: newProducts\n  }\n}\n\nconst userAuthActionCreator = (user) => {\n  return {\n    type: 'ADD_USER_AUTH',\n    user: user\n  }\n}\n\nconst actionCreators = {\n  productActionCreator,\n  userAuthActionCreator\n}\n\nexport default actionCreators\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App.js';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport { createStore } from 'redux';\nimport { Provider } from 'react-redux';\nimport reducer from './reducers/index.js';\nimport actionCreators from './actionCreators'\nimport * as serviceWorker from './serviceWorker';\n\n\nconst store = createStore(reducer,\n    window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\n  )\n\n// getting first 10 product when initializing the page\n// fetch(`https://immense-garden-92266.herokuapp.com/products?limit=${parseInt(localStorage.limit) > 20 ? localStorage.limit : \"31\"}`)\nfetch(`https://immense-garden-92266.herokuapp.com/products?limit=31`)\n.then(r => r.json())\n.then(products => {\n  store.dispatch(actionCreators.productActionCreator(products))\n})\n\nReactDOM.render(<Router><Provider store={store}><App /></Provider></Router>, document.getElementById('root'));\n\n// app.use(express.static(__dirname)); //here is important thing - no static directory, because all static :)\n//\n// app.get(\"/*\", function(req, res) {\n//   res.sendFile(path.join(__dirname, \"index.html\"));\n// });\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}